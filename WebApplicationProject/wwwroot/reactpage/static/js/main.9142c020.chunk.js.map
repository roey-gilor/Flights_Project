{"version":3,"sources":["logo.svg","flightComponents/customerComponents/CustomerDetailsComp.js","flightComponents/customerComponents/CustomerFlightComp.js","flightComponents/customerComponents/CustomerTicketsComp.js","flightComponents/customerComponents/CustomerNavbar.js","flightComponents/customerComponents/MainCustomerComp.js","flightComponents/airlineComponents/MainAirlineComp.js","flightComponents/adminComponents/MainAdminComp.js","flightComponents/mainComponents/MainComp.js","App.js","reportWebVitals.js","index.js"],"names":["CustomerDetailsComp","history","useHistory","useState","user","setUser","firstName","setFirstName","lastName","setLastName","address","setAddress","phoneNum","setPhoneNum","creditCard","setCreditCard","userName","setUserName","password","setPassword","confirm","setConfirm","email","setEmail","currentPassword","setCurrentPassword","useEffect","jwt","localStorage","getItem","$","ajax","type","url","contentType","dataType","headers","done","response","First_Name","Last_Name","Address","Phone_No","Credit_Card_No","undefined","User","User_Name","Password","Email","fail","err","console","log","updateCustomer","phone","includes","split","customer","JSON","stringify","Id","val","User_Id","User_Role","jqXhr","data","Swal","fire","then","push","status","text","responseText","icon","title","validateDetails","length","style","fontWeight","defaultValue","onChange","e","target","value","id","backgroundColor","height","width","fontSize","fontFamily","onClick","error","CustomerFlightComp","props","flight","border","AirlineCompanyName","Departure_Time","OrigionCountry","DestinationCountry","Landing_Time","currentDate","Date","getTime","ticket","Ticket_Id","Flight_Id","Authorization","CustomerTicketsComp","flightsToRender","tickets","setTickets","map","Navigation","styled","header","CustomerNavbar","state","isExpanded","preventDefault","this","setState","className","handleToggle","activeClassName","to","Component","withRouter","MainCustomerComp","path","MainAirlineComp","MainAdminComp","MainComp","json","xhr","XMLHttpRequest","open","setRequestHeader","onload","readyState","window","setItem","send","getToken","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9142c020.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { Component, useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport $ from 'jquery';\r\nimport Swal from 'sweetalert2';\r\nimport '../alerts.css'\r\n\r\nconst CustomerDetailsComp = () => {\r\n    let history = useHistory();\r\n    const [user, setUser] = useState({})\r\n    const [firstName, setFirstName] = useState('')\r\n    const [lastName, setLastName] = useState('')\r\n    const [address, setAddress] = useState('')\r\n    const [phoneNum, setPhoneNum] = useState('')\r\n    const [creditCard, setCreditCard] = useState('')\r\n    const [userName, setUserName] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirm, setConfirm] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [currentPassword, setCurrentPassword] = useState('')\r\n\r\n    useEffect(() => {\r\n        let jwt = localStorage.getItem('JWT')\r\n        $.ajax({\r\n            type: \"GET\",\r\n            url: 'https://localhost:44309/api/Customer/GetCustomerDetails',\r\n            contentType: 'application/json',\r\n            dataType: 'json',\r\n            headers: {\r\n                'Authorization': 'Bearer ' + jwt\r\n            }\r\n        }).done(function (response) {\r\n            setUser(response)\r\n            setFirstName(response.First_Name)\r\n            setLastName(response.Last_Name)\r\n            setAddress(response.Address)\r\n            setPhoneNum(response.Phone_No)\r\n            setCreditCard(response.Credit_Card_No)\r\n            if (response.User != undefined) {\r\n                setUserName(response.User.User_Name)\r\n                setPassword(response.User.Password)\r\n                setEmail(response.User.Email)\r\n                setCurrentPassword(response.User.Password)\r\n                setConfirm(response.User.Password)\r\n            }\r\n        }).fail(function (err) {\r\n            console.log(err);\r\n        });\r\n    }, [])\r\n\r\n    const updateCustomer = () => {\r\n        let jwt = localStorage.getItem('JWT')\r\n        let phone = phoneNum.includes('-') ? phoneNum.split('-')[1] : phoneNum;\r\n        let customer = JSON.stringify({\r\n            Id: user.Id,\r\n            First_Name: firstName,\r\n            Last_Name: lastName,\r\n            Address: address,\r\n            Phone_No: $(\"#prefixNum\").val() + '-' + phone,\r\n            Credit_Card_No: creditCard,\r\n            User_Id: user.User_Id,\r\n            User: {\r\n                Id: user.User_Id,\r\n                User_Name: userName,\r\n                Password: password,\r\n                Email: email,\r\n                User_Role: 3\r\n            }\r\n        })\r\n        let jqXhr = $.ajax({\r\n            url: \"https://localhost:44309/api/Customer/UpdateCustomerDetails\",\r\n            type: \"PUT\",\r\n            contentType: 'application/json',\r\n            dataType: 'json',\r\n            data: customer,\r\n            headers: {\r\n                'Authorization': 'Bearer ' + jwt\r\n            }\r\n        }).done((response) => {\r\n            console.log(response);\r\n            Swal.fire(\r\n                'Your details have been updated succefully!',\r\n                'You can change it again anytime',\r\n                'success'\r\n            ).then(() => {\r\n                history.push('/customer/tickets')\r\n                history.push('/customer/details')\r\n            })\r\n        }).fail((err) => {\r\n            if (err.status === 403) {\r\n                let text = jqXhr.responseText.split(\"_\")[1];\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: `${text} is allready taken`\r\n                })\r\n            }\r\n            if (err.status === 401) {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: `You are not allowed to update details`\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    const updateDetails = () => {\r\n        debugger;\r\n        console.log(currentPassword);\r\n        console.log(password);\r\n        let jwt = localStorage.getItem('JWT')\r\n        let error = validateDetails();\r\n        if (error !== '') {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: `${error}`\r\n            })\r\n        } else {\r\n            if (currentPassword !== password) {\r\n                debugger;\r\n                $.ajax({\r\n                    type: \"PUT\",\r\n                    url: `https://localhost:44309/api/Customer/ChangeCustomerPassword?oldPassword=${currentPassword}&newPassword=${password}`,\r\n                    contentType: 'application/json',\r\n                    dataType: 'json',\r\n                    headers: {\r\n                        'Authorization': 'Bearer ' + jwt\r\n                    }\r\n                }).done(function (response) {\r\n                    console.log(response);\r\n                    updateCustomer();\r\n                }).fail(function (err) {\r\n                    if (err.status === 403) {\r\n                        console.log(err);\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: `New password can\\'t be like the old one`\r\n                        }).then(() => {\r\n                            history.push('/customer/tickets')\r\n                            history.push('/customer/details')\r\n                        })\r\n                    }\r\n                    if (err.status === 401) {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: `You are not allowed to change password`\r\n                        }).then(() => {\r\n                            history.push('/customer/tickets')\r\n                            history.push('/customer/details')\r\n                        })\r\n                    }\r\n                });\r\n            } else {\r\n                updateCustomer();\r\n            }\r\n        }\r\n    }\r\n\r\n    const validateDetails = () => {\r\n        if (userName.length < 5) {\r\n            return 'User name is too short'\r\n        } else {\r\n            if (userName.length > 20) {\r\n                return 'User name is too long'\r\n            }\r\n        }\r\n        if (password !== confirm) {\r\n            return 'You must confirm your password correctly!'\r\n        }\r\n        if (password.length < 5) {\r\n            return 'Your password is too short'\r\n        } else {\r\n            if (password.length > 20) {\r\n                return 'Your password is too long'\r\n            }\r\n        }\r\n        if (firstName.length < 2) {\r\n            return 'First name is too short'\r\n        }\r\n        if (lastName.length < 2) {\r\n            return 'Last name is too short'\r\n        }\r\n        if (address.length < 10) {\r\n            return 'Address is too short'\r\n        }\r\n        if (phoneNum.split('-')[1].length !== 7) {\r\n            return 'Phone number must include 7 digits'\r\n        }\r\n        if (creditCard.length !== 16) {\r\n            return 'Credit card number must include 16 digits'\r\n        }\r\n        return '';\r\n    }\r\n\r\n    return (<div>\r\n        <h1>Personal Details</h1> <br />\r\n        <span style={{ fontWeight: 'bold' }}> First Name: </span> <input type='text' defaultValue={user.First_Name}\r\n            onChange={(e) => { setFirstName(e.target.value) }} /> <br /> <br />\r\n        <span style={{ fontWeight: 'bold' }}> Last Name: </span> <input type='text' defaultValue={user.Last_Name}\r\n            onChange={(e) => { setLastName(e.target.value) }} /> <br /> <br />\r\n        <span style={{ fontWeight: 'bold' }}> Address: </span> <input type='text' defaultValue={user.Address}\r\n            onChange={(e) => { setAddress(e.target.value) }} /> <br /> <br />\r\n        <span style={{ fontWeight: 'bold' }}> Phone Number: </span>\r\n        <select id=\"prefixNum\" defaultValue={phoneNum.split('-')[0]}>\r\n            <option value=\"050\" defaultValue>050</option>\r\n            <option value=\"051\">051</option>\r\n            <option value=\"052\">052</option>\r\n            <option value=\"053\">053</option>\r\n            <option value=\"054\">054</option>\r\n            <option value=\"055\">055</option>\r\n        </select>\r\n        <input type='text' defaultValue={phoneNum.split('-')[1]}\r\n            onChange={(e) => { setPhoneNum(e.target.value) }} /> <br /> <br />\r\n        <span style={{ fontWeight: 'bold' }}> Credit Card Number: </span> <input type='text' defaultValue={user.Credit_Card_No}\r\n            onChange={(e) => { setCreditCard(e.target.value) }} /> <br /> <br />\r\n        <span style={{ fontWeight: 'bold' }}> User Name: </span> <input type='text' defaultValue={userName}\r\n            onChange={(e) => { setUserName(e.target.value) }} /> <br /> <br />\r\n        <span style={{ fontWeight: 'bold' }}> Password: </span> <input type='text' defaultValue={password}\r\n            onChange={(e) => { setPassword(e.target.value) }} /> <br /> <br />\r\n        <span style={{ fontWeight: 'bold' }}> Confirm Password: </span> <input type='text' defaultValue={confirm}\r\n            onChange={(e) => { setConfirm(e.target.value) }} /> <br /> <br />\r\n        <span style={{ fontWeight: 'bold' }}> Email: </span> <input type='email' defaultValue={email}\r\n            onChange={(e) => { setEmail(e.target.value) }} /> <br /> <br />\r\n        <input type='button' value='Edit' style={{ backgroundColor: 'whitesmoke', height: '50px', width: '100px', fontSize: '25px', fontFamily: 'Franklin Gothic Medium' }}\r\n            onClick={updateDetails} />\r\n    </div>)\r\n}\r\n\r\nexport default CustomerDetailsComp;","import React, { Component } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport $ from 'jquery';\r\nimport Swal from 'sweetalert2';\r\nimport '../alerts.css'\r\n\r\nconst CustomerFlightComp = (props) => {\r\n    let flight = props.flight\r\n    let history = useHistory();\r\n\r\n    const deleteTicket = () => {\r\n        let currentDate = new Date();\r\n        let detpartureDate = new Date(flight.Departure_Time)\r\n        if (detpartureDate.getTime() > currentDate.getTime()) {\r\n            let jwt = localStorage.getItem('JWT')\r\n            let ticket = JSON.stringify({\r\n                Id: flight.Ticket_Id,\r\n                Flight_Id: flight.Id,\r\n                AirlineCompanyName: flight.AirlineCompanyName,\r\n                OrigionCountry: flight.OrigionCountry,\r\n                DestinationCountry: flight.DestinationCountry,\r\n                Departure_Time: flight.Departure_Time,\r\n                Landing_Time: flight.Landing_Time\r\n            })\r\n            $.ajax({\r\n                type: \"DELETE\",\r\n                url: 'https://localhost:44309/api/Customer/CancelTicketPurchase',\r\n                contentType: 'application/json',\r\n                data: ticket,\r\n                headers: {\r\n                    Authorization: 'Bearer ' + jwt\r\n                }\r\n            }).done(function (response) {\r\n                Swal.fire(\r\n                    'Ticket purchase was canceled succefully!',\r\n                    'You can purchase tickets to another flights',\r\n                    'success'\r\n                ).then(() => {\r\n                    history.push('/customer/details')\r\n                    history.push('/customer/tickets')\r\n                })\r\n            }).fail(function (err) {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'You can\\'t cancel ticket purchase',\r\n                    text: `You are not allowed to cancel purchase`\r\n                })\r\n            });\r\n        } else {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'You can\\'t cancel ticket purchase',\r\n                text: `The flight has already taken off`\r\n            })\r\n        }\r\n    }\r\n\r\n    return (<div style={{ backgroundColor: 'whitesmoke', border: '1px solid black' }} >\r\n        <span style={{ fontWeight: 'bold' }}> Company: </span>  {flight.AirlineCompanyName} {' '}\r\n        <span style={{ fontWeight: 'bold' }}> Departure date: </span> {flight.Departure_Time.split('T')[0]} {' '}\r\n        <span style={{ fontWeight: 'bold' }}> Origion Country: </span>  {flight.OrigionCountry} {' '}\r\n        <span style={{ fontWeight: 'bold' }}> Departure Time: </span>  {flight.Departure_Time.split('T')[1]} {' '} <br /> <br />\r\n        <span style={{ fontWeight: 'bold' }}> Destination Country: </span>  {flight.DestinationCountry} {' '}\r\n        <span style={{ fontWeight: 'bold' }}> Landing date: </span>  {flight.Landing_Time.split('T')[0]} {' '}\r\n        <span style={{ fontWeight: 'bold' }}> Landing Time: </span>  {flight.Landing_Time.split('T')[1]} {' '} <br /> <br />\r\n        <input type=\"button\" style={{ backgroundColor: 'salmon' }} value=\"Cancel Ticket\" onClick={deleteTicket} />\r\n    </div>)\r\n}\r\n\r\nexport default CustomerFlightComp;","import React, { Component, useEffect, useState } from 'react'\r\nimport $ from 'jquery';\r\nimport CustomerFlightComp from './CustomerFlightComp';\r\n\r\nconst CustomerTicketsComp = () => {\r\n    const [tickets, setTickets] = useState([])\r\n\r\n    useEffect(() => {\r\n        let jwt = localStorage.getItem('JWT')\r\n        $.ajax({\r\n            type: \"GET\",\r\n            url: 'https://localhost:44309/api/Customer/GetAllCustomerFlights',\r\n            contentType: 'application/json',\r\n            dataType: 'json',\r\n            headers: {\r\n                'Authorization': 'Bearer ' + jwt\r\n            }\r\n        }).done(function (response) {\r\n            setTickets(response);\r\n        }).fail(function (err) {\r\n            console.log(err);\r\n        });\r\n    }, [])\r\n\r\n    let flightsToRender;\r\n    if (tickets.length !== 0) {\r\n        flightsToRender = tickets.map(flight => {\r\n            return <CustomerFlightComp key={flight.id} flight={flight} />\r\n        })\r\n    }\r\n\r\n    return (<div>\r\n        <h1> viewing & managing your tickets</h1> <br /> <br />\r\n        {flightsToRender}  <br />  <br />\r\n    </div>)\r\n}\r\n\r\nexport default CustomerTicketsComp;","import React, { Component } from 'react'\r\nimport { Link, NavLink, withRouter } from 'react-router-dom';\r\nimport styled from \"styled-components\";\r\n\r\nconst Navigation = styled.header`\r\n  width: 100%;\r\n  border-bottom: 10px solid #222;\r\n  z-index: 1;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0px 100px 0;\r\n  height: 140px;\r\n  margin-bottom: 60px;\r\n  background: #f8f8f8;\r\n\r\n  .logo a {\r\n    padding-top: 33px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    clear: both;\r\n    padding-bottom: 30px;\r\n    text-decoration: none;\r\n\r\n    p {\r\n      width: 500px;\r\n      display: block;\r\n    }\r\n    em {\r\n      font-size: 0.5em;\r\n      float: left;\r\n      display: block;\r\n      img {\r\n        display: inline-block;\r\n        margin-top: 5px;\r\n        width: 15px;\r\n        float: left;\r\n      }\r\n      .letterhead {\r\n        display: inline-block;\r\n        line-height: 260%;\r\n        float: left;\r\n      }\r\n    }\r\n  }\r\n  .gray {\r\n    color: #ccc;\r\n  }\r\n  a {\r\n    color: #222;\r\n    opacity: 0.55;\r\n    transition: all 0.6s;\r\n    color: #222;\r\n    font-size: 1em;\r\n  }\r\n  a:hover {\r\n    opacity: 1;\r\n  }\r\n  .fa-bars {\r\n    display: none;\r\n    color: #222;\r\n    font-size: 2rem;\r\n  }\r\n  nav {\r\n    ul {\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n    li {\r\n      margin: 0 15px;\r\n      justify-content: space-between;\r\n      font-size: 1em;\r\n    }\r\n    a {\r\n      font-size: 1em;\r\n      text-decoration: none;\r\n      .active {\r\n        color: tomato;\r\n      }\r\n    }\r\n    a.active {\r\n      color: #222;\r\n    }\r\n  }\r\n\r\n  @media only screen and (max-width: 800px) {\r\n    padding: 0px;\r\n    .logo {\r\n      padding-left: 15px;\r\n      padding-top: 0px !important;\r\n    }\r\n  }\r\n  @media only screen and (max-width: 600px) {\r\n    height: auto;\r\n    min-height: 50px;\r\n    display: block;\r\n    position: relative;\r\n    .logo {\r\n      width: 100%;\r\n      display: block;\r\n      padding-top: 20px;\r\n      margin: 0px;\r\n      margin-left: -5px;\r\n      a {\r\n        padding: 20px 0px;\r\n      }\r\n    }\r\n    .fa-bars {\r\n      display: inline-block;\r\n      position: absolute;\r\n      top: 10px;\r\n      right: 10px;\r\n      cursor: pointer;\r\n    }\r\n    ul.collapsed {\r\n      width: 100%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      flex-wrap: wrap;\r\n\r\n      overflow: hidden;\r\n      max-height: 0;\r\n      -moz-transition-duration: 0.4s;\r\n      -webkit-transition-duration: 0.4s;\r\n      -o-transition-duration: 0.4s;\r\n      transition-duration: 0.4s;\r\n      -moz-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\r\n      -webkit-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\r\n      -o-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\r\n      transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\r\n\r\n      &.is-expanded {\r\n        overflow: hidden;\r\n        max-height: 500px; /* approximate max height */\r\n        -moz-transition-duration: 0.4s;\r\n        -webkit-transition-duration: 0.4s;\r\n        -o-transition-duration: 0.4s;\r\n        transition-duration: 0.4s;\r\n        -moz-transition-timing-function: ease-in;\r\n        -webkit-transition-timing-function: ease-in;\r\n        -o-transition-timing-function: ease-in;\r\n        transition-timing-function: ease-in;\r\n      }\r\n      li {\r\n        padding: 15px 10px;\r\n        margin: 0px 0px;\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nclass CustomerNavbar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isExpanded: false\r\n        };\r\n    }\r\n\r\n    handleToggle(e) {\r\n        e.preventDefault();\r\n        this.setState({\r\n            isExpanded: !this.state.isExpanded\r\n        });\r\n    }\r\n    render() {\r\n        const { isExpanded } = this.state;\r\n        return (\r\n            <Navigation>\r\n                <nav className=\"nav\">\r\n                    <i\r\n                        className=\"fa fa-bars\"\r\n                        aria-hidden=\"true\"\r\n                        onClick={e => this.handleToggle(e)}\r\n                    />\r\n                    <ul className={`collapsed ${isExpanded ? \"is-expanded\" : \"\"}`}>\r\n                        <NavLink activeClassName=\"active\" to=\"/customer/tickets\">\r\n                            <li>Tickets</li>\r\n                        </NavLink>\r\n                        <NavLink activeClassName=\"active\" to=\"/customer/details\">\r\n                            <li>Details</li>\r\n                        </NavLink>\r\n                    </ul>\r\n                </nav>\r\n            </Navigation>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(CustomerNavbar)","import React, { Component, useEffect } from 'react'\r\nimport { Route, useHistory, Switch } from 'react-router-dom';\r\nimport CustomerDetailsComp from './CustomerDetailsComp.js'\r\nimport CustomerTicketsComp from './CustomerTicketsComp'\r\nimport Navbar from './CustomerNavbar.js'\r\nimport '../navbar.css'\r\nimport '../background.css'\r\n\r\nconst MainCustomerComp = () => {\r\n    let history = useHistory();\r\n\r\n    useEffect(() => {\r\n        history.push('/customer/tickets')\r\n    }, [])\r\n\r\n    return (<div>\r\n        <Navbar />\r\n        <Switch>\r\n            <div className=\"container\">\r\n                <Route path='/customer/tickets'> <CustomerTicketsComp /> </Route>\r\n                <Route path='/customer/details'> <CustomerDetailsComp /> </Route>\r\n            </div>\r\n        </Switch>\r\n    </div>)\r\n}\r\n\r\nexport default MainCustomerComp;","import React, { Component } from 'react'\r\n\r\nconst MainAirlineComp = () => {\r\n\r\n    return (<div>\r\n        <h1>Airline</h1>\r\n    </div>)\r\n}\r\n\r\nexport default MainAirlineComp;","import React, { Component } from 'react'\r\n\r\nconst MainAdminComp = () => {\r\n\r\n    return (<div>\r\n        <h1>Admin</h1>\r\n    </div>)\r\n}\r\n\r\nexport default MainAdminComp;","import React, { Component, useEffect } from 'react'\r\nimport { Route, useHistory, Switch } from 'react-router-dom';\r\nimport MainCustomerComp from '../customerComponents/MainCustomerComp.js';\r\nimport MainAirlineComp from '../airlineComponents/MainAirlineComp.js';\r\nimport MainAdminComp from '../adminComponents/MainAdminComp.js';\r\n\r\nconst MainComp = () => {\r\n    let history = useHistory();\r\n    const getToken = () => {\r\n        let data = {};\r\n        data.Name = 'uri321';\r\n        data.Password = 'vzd474';\r\n        let json = JSON.stringify(data);\r\n\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open(\"POST\", 'https://localhost:44309/api/Auth/token', true);\r\n        xhr.setRequestHeader('Content-type',\r\n            'application/json; charset=utf-8');\r\n        xhr.onload = function () {\r\n            let jwt = xhr.responseText;\r\n            if (xhr.readyState == 4 && xhr.status == \"200\") {\r\n                window.localStorage.setItem('JWT', jwt);\r\n            }\r\n        }\r\n        xhr.send(json);\r\n    }\r\n\r\n    useEffect(() => {\r\n        getToken();\r\n        let role = 'Customer';\r\n        switch (role) {\r\n            case 'Administrator':\r\n                history.push(\"/admin\")\r\n                break;\r\n            case 'Airline Company':\r\n                history.push('/airline')\r\n                break;\r\n            case 'Customer':\r\n                history.push('/customer/tickets')\r\n                break;\r\n            default:\r\n                history.push('/')\r\n        }\r\n    }, [])\r\n\r\n    return (<div id=\"bg\">\r\n        <Switch>\r\n            <Route path='/customer'> <MainCustomerComp /> </Route>\r\n            <Route path='/airline'> <MainAirlineComp /> </Route>\r\n            <Route path='/admin' > <MainAdminComp /> </Route>\r\n        </Switch>\r\n    </div>)\r\n}\r\n\r\nexport default MainComp;","import logo from './logo.svg';\nimport './App.css';\nimport MainComp from './flightComponents/mainComponents/MainComp.js'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MainComp />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}