(this.webpackJsonpreactside=this.webpackJsonpreactside||[]).push([[0],{22:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r,a,i,s=n(1),c=n(24),o=n.n(c),u=(n(57),n.p,n(58),n(12)),l=n(2),j=n.n(l),d=n(5),b=n(4),p=n(6),h=n.n(p),x=localStorage.getItem("JWT"),f={getCustomerDetails:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Customer/GetCustomerDetails",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+x}});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),updatePassword:function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"PUT",url:"/api/Customer/ChangeCustomerPassword?oldPassword=".concat(t,"&newPassword=").concat(n),contentType:"application/json",headers:{Authorization:"Bearer "+x}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),updateCustomer:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({url:"/api/Customer/UpdateCustomerDetails",type:"PUT",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+x}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),deleteTicket:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"DELETE",url:"/api/Customer/CancelTicketPurchase",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+x}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getAllTickets:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Customer/GetAllCustomerFlights",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+x}});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),purchaseTicket:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"POST",url:"/api/Customer/PurchaseTicket",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+x}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.status);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},O=n(3),m=n.n(O),g=(n(45),n(0)),y=function(){var e=Object(u.f)(),t=Object(s.useState)({}),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(""),c=Object(b.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)(""),h=Object(b.a)(p,2),x=h[0],O=h[1],y=Object(s.useState)(""),v=Object(b.a)(y,2),w=v[0],C=v[1],k=Object(s.useState)(""),N=Object(b.a)(k,2),A=N[0],T=N[1],B=Object(s.useState)(""),S=Object(b.a)(B,2),U=S[0],_=S[1],I=Object(s.useState)(""),E=Object(b.a)(I,2),D=E[0],P=E[1],W=Object(s.useState)(""),L=Object(b.a)(W,2),F=L[0],Y=L[1],z=Object(s.useState)(""),G=Object(b.a)(z,2),V=G[0],J=G[1],R=Object(s.useState)(""),M=Object(b.a)(R,2),K=M[0],H=M[1],q=Object(s.useState)(""),Q=Object(b.a)(q,2),X=Q[0],Z=Q[1],$=Object(s.useState)(""),ee=Object(b.a)($,2),te=ee[0],ne=ee[1];Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,f.getCustomerDetails();case 3:null!==(t=e.sent)&&(a(t),l(t.First_Name),O(t.Last_Name),C(t.Address),T(t.Phone_No),_(t.Credit_Card_No),ne(t.Phone_No.split("-")[0]),void 0!=t.User&&(P(t.User.User_Name),Y(t.User.Password),H(t.User.Email),Z(t.User.Password),J(t.User.Password)));case 5:case"end":return e.stop()}}),e)}))),[]);var re=function(){var t=Object(d.a)(j.a.mark((function t(){var n,a,i,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=A.includes("-")?A.split("-")[1]:A,i=JSON.stringify({Id:r.Id,First_Name:o,Last_Name:x,Address:w,Phone_No:te+"-"+a,Credit_Card_No:U,User_Id:r.User_Id,User:{Id:r.User_Id,User_Name:D,Password:F,Email:K,User_Role:3}}),t.next=4,f.updateCustomer(i);case 4:!0===(n=t.sent)?m.a.fire("Your details have been updated succefully!","You can change it again anytime","success").then((function(){e.push("/customer/tickets"),e.push("/customer/details")})):(403===n.status&&(s=n.error.split("_")[1],m.a.fire({icon:"error",title:"Oops...",text:"".concat(s," is allready taken")})),401===n.status&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to update details"}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=Object(d.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===(r=ie())){t.next=5;break}m.a.fire({icon:"error",title:"Oops...",text:"".concat(r)}),t.next=13;break;case 5:if(X===F){t.next=12;break}return t.next=8,f.updatePassword(X,F);case 8:!0===(n=t.sent)?re():(403===n.status&&m.a.fire({icon:"error",title:"Oops...",text:"New password can't be like the old one"}).then((function(){e.push("/customer/tickets"),e.push("/customer/details")})),401===n.status&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to change password"}).then((function(){e.push("/customer/tickets"),e.push("/customer/details")}))),t.next=13;break;case 12:re();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ie=function(){return D.length<5?"User name is too short":D.length>20?"User name is too long":F!==V?"You must confirm your password currectly!":F.length<5?"Your password is too short":F.length>20?"Your password is too long":o.length<2?"First name is too short":x.length<2?"Last name is too short":w.length<10?"Address is too short":7!==A.split("-")[1].length?"Phone number must include 7 digits":16!==U.length?"Credit card number must include 16 digits":!K.includes("@")||K.length<4?"Email must be in right format":""};return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Personal Details"})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" First Name: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:r.First_Name,onChange:function(e){l(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Last Name: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:r.Last_Name,onChange:function(e){O(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Address: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:r.Address,onChange:function(e){C(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Phone Number: "}),Object(g.jsxs)("select",{id:"prefixNum",value:te,onChange:function(e){return ne(e.target.value)},children:[Object(g.jsx)("option",{value:"050",children:"050"}),Object(g.jsx)("option",{value:"051",children:"051"}),Object(g.jsx)("option",{value:"052",children:"052"}),Object(g.jsx)("option",{value:"053",children:"053"}),Object(g.jsx)("option",{value:"054",children:"054"}),Object(g.jsx)("option",{value:"055",children:"055"})]}),Object(g.jsx)("input",{type:"text",defaultValue:A.split("-")[1],onChange:function(e){T(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Credit Card Number: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:r.Credit_Card_No,onChange:function(e){_(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" User Name: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:D,onChange:function(e){P(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Password: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:F,onChange:function(e){Y(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Confirm Password: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:V,onChange:function(e){J(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Email: "})," ",Object(g.jsx)("input",{type:"email",defaultValue:K,onChange:function(e){H(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Edit",style:{backgroundColor:"whitesmoke",height:"50px",width:"100px",fontSize:"25px",fontFamily:"Franklin Gothic Medium"},onClick:ae})]})},v=function(e){var t=e.flight,n=Object(u.f)(),r=function(){var e=Object(d.a)(j.a.mark((function e(){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Date,!(new Date(t.Departure_Time).getTime()>r.getTime())){e.next=11;break}return a=JSON.stringify({Id:t.Ticket_Id,Flight_Id:t.Id,AirlineCompanyName:t.AirlineCompanyName,OrigionCountry:t.OrigionCountry,DestinationCountry:t.DestinationCountry,Departure_Time:t.Departure_Time,Landing_Time:t.Landing_Time}),e.next=6,f.deleteTicket(a);case 6:!0===e.sent?m.a.fire("Ticket purchase was canceled succefully!","You can purchase tickets to another flights","success").then((function(){n.push("/customer/details"),n.push("/customer/tickets")})):m.a.fire({icon:"error",title:"You can't cancel ticket purchase",text:"You are not allowed to cancel purchase"}),e.next=12;break;case 11:m.a.fire({icon:"error",title:"You can't cancel ticket purchase",text:"The flight has already taken off"});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{style:{backgroundColor:"whitesmoke",border:"1px solid black"},children:[Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Company: "}),"  ",t.AirlineCompanyName," "," ",Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Departure date: "})," ",t.Departure_Time.split("T")[0]," "," ",Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Origion Country: "}),"  ",t.OrigionCountry," "," ",Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Departure Time: "}),"  ",t.Departure_Time.split("T")[1]," "," "," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Destination Country: "}),"  ",t.DestinationCountry," "," ",Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Landing date: "}),"  ",t.Landing_Time.split("T")[0]," "," ",Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Landing Time: "}),"  ",t.Landing_Time.split("T")[1]," "," "," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",style:{backgroundColor:"salmon"},value:"Cancel Ticket",onClick:r})]})},w=function(){var e,t=Object(s.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1];return Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getAllTickets();case 2:!1!==(t=e.sent)?a(t):console.log("error");case 4:case"end":return e.stop()}}),e)}))),[]),0!==r.length&&(e=r.map((function(e){return Object(g.jsx)(v,{flight:e},e.id)}))),Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:" viewing & managing your tickets"})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),e,"  ",Object(g.jsx)("br",{}),"  ",Object(g.jsx)("br",{})]})},C=n(10),k=n(11),N=n(14),A=n(13),T=n(26),B=n(7),S=n(27),U=S.a.header(r||(r=Object(T.a)(["\n  width: 100%;\n  border-bottom: 10px solid #222;\n  z-index: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px 100px 0;\n  height: 140px;\n  margin-bottom: 60px;\n  background: #f8f8f8;\n\n  .logo a {\n    padding-top: 33px;\n    display: flex;\n    flex-direction: column;\n    clear: both;\n    padding-bottom: 30px;\n    text-decoration: none;\n\n    p {\n      width: 500px;\n      display: block;\n    }\n    em {\n      font-size: 0.5em;\n      float: left;\n      display: block;\n      img {\n        display: inline-block;\n        margin-top: 5px;\n        width: 15px;\n        float: left;\n      }\n      .letterhead {\n        display: inline-block;\n        line-height: 260%;\n        float: left;\n      }\n    }\n  }\n  .gray {\n    color: #ccc;\n  }\n  a {\n    color: #222;\n    opacity: 0.55;\n    transition: all 0.6s;\n    color: #222;\n    font-size: 1em;\n  }\n  a:hover {\n    opacity: 1;\n  }\n  .fa-bars {\n    display: none;\n    color: #222;\n    font-size: 2rem;\n  }\n  nav {\n    ul {\n      display: flex;\n      justify-content: space-between;\n    }\n    li {\n      margin: 0 15px;\n      justify-content: space-between;\n      font-size: 1em;\n    }\n    a {\n      font-size: 1em;\n      text-decoration: none;\n      .active {\n        color: tomato;\n      }\n    }\n    a.active {\n      color: #222;\n    }\n  }\n\n  @media only screen and (max-width: 800px) {\n    padding: 0px;\n    .logo {\n      padding-left: 15px;\n      padding-top: 0px !important;\n    }\n  }\n  @media only screen and (max-width: 600px) {\n    height: auto;\n    min-height: 50px;\n    display: block;\n    position: relative;\n    .logo {\n      width: 100%;\n      display: block;\n      padding-top: 20px;\n      margin: 0px;\n      margin-left: -5px;\n      a {\n        padding: 20px 0px;\n      }\n    }\n    .fa-bars {\n      display: inline-block;\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      cursor: pointer;\n    }\n    ul.collapsed {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      flex-wrap: wrap;\n\n      overflow: hidden;\n      max-height: 0;\n      -moz-transition-duration: 0.4s;\n      -webkit-transition-duration: 0.4s;\n      -o-transition-duration: 0.4s;\n      transition-duration: 0.4s;\n      -moz-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      -webkit-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      -o-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n\n      &.is-expanded {\n        overflow: hidden;\n        max-height: 500px; /* approximate max height */\n        -moz-transition-duration: 0.4s;\n        -webkit-transition-duration: 0.4s;\n        -o-transition-duration: 0.4s;\n        transition-duration: 0.4s;\n        -moz-transition-timing-function: ease-in;\n        -webkit-transition-timing-function: ease-in;\n        -o-transition-timing-function: ease-in;\n        transition-timing-function: ease-in;\n      }\n      li {\n        padding: 15px 10px;\n        margin: 0px 0px;\n        width: 100%;\n      }\n    }\n  }\n"]))),_=function(e){Object(N.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(C.a)(this,n),(r=t.call(this,e)).state={isExpanded:!1},r}return Object(k.a)(n,[{key:"handleToggle",value:function(e){e.preventDefault(),this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){var e=this,t=this.state.isExpanded;return Object(g.jsx)(U,{children:Object(g.jsxs)("nav",{className:"nav",children:[Object(g.jsx)("i",{className:"fa fa-bars","aria-hidden":"true",onClick:function(t){return e.handleToggle(t)}}),Object(g.jsxs)("ul",{className:"collapsed ".concat(t?"is-expanded":""),children:[Object(g.jsx)(B.b,{activeClassName:"active",to:"/customer/tickets",children:Object(g.jsx)("li",{children:"Tickets"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/customer/details",children:Object(g.jsx)("li",{children:"Details"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/flights",children:Object(g.jsx)("li",{children:"Flights"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/FlightPages/loginPage.html",children:Object(g.jsx)("li",{children:"Log Out"})})]})]})})}}]),n}(s.Component),I=Object(u.g)(_),E=(n(37),n(38),function(){var e=Object(u.f)();return Object(s.useEffect)((function(){e.push("/customer/tickets")}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(I,{}),Object(g.jsx)(u.c,{children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)(u.a,{path:"/customer/tickets",children:[" ",Object(g.jsx)(w,{})," "]}),Object(g.jsxs)(u.a,{path:"/customer/details",children:[" ",Object(g.jsx)(y,{})," "]})]})})]})}),D=localStorage.getItem("JWT"),P={getAirlineFlights:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Airline/GetAllAirlineFlights",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+D}});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getFlightsTickets:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Airline/GetAllAirlineTickets",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+D}});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),GetAllCountries:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Anonymous/GetAllCountries",contentType:"application/json"});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),updateFlight:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"PUT",url:"/api/Airline/UpdateFlight",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+D}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),deleteFlight:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"DELETE",url:"/api/Airline/CancelFlight",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+D}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getAirlineDetails:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Airline/GetAirlineDetails",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+D}});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),createNewFlight:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"POST",url:"/api/Airline/CreateNewFlight",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+D}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),updatePassword:function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"PUT",url:"/api/Airline/ChangeAirlinePassword?oldPassword=".concat(t,"&newPassword=").concat(n),contentType:"application/json",headers:{Authorization:"Bearer "+D}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),updateAirline:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({url:"/api/Airline/UpdateAirlineDetails",type:"PUT",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+D}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},W=(n(22),function(){var e=Object(u.f)(),t=Object(s.useState)({}),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)([]),c=Object(b.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)(""),x=Object(b.a)(p,2),f=x[0],O=x[1],y=Object(s.useState)(""),v=Object(b.a)(y,2),w=v[0],C=v[1],k=Object(s.useState)(""),N=Object(b.a)(k,2),A=N[0],T=N[1],B=Object(s.useState)(""),S=Object(b.a)(B,2),U=S[0],_=S[1],I=Object(s.useState)(""),E=Object(b.a)(I,2),D=E[0],W=E[1],L=Object(s.useState)(""),F=Object(b.a)(L,2),Y=F[0],z=F[1],G=Object(s.useState)(""),V=Object(b.a)(G,2),J=V[0],R=V[1];Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getAirlineDetails();case 2:return t=e.sent,a(t),z(t.Country_Name),O(t.Name),void 0!=t.User&&(C(t.User.User_Name),T(t.User.Password),W(t.User.Email),R(t.User.Password),_(t.User.Password)),e.next=9,P.GetAllCountries();case 9:n=e.sent,l(JSON.parse(n)),setTimeout((function(){h()("#countries option:contains(".concat(t.Country_Name,")")).prop("selected",!0)}),10);case 12:case"end":return e.stop()}}),e)}))),[]);var M=Object(g.jsxs)("select",{id:"countries",onChange:function(e){return z(e.target.value)},children:[o.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]}),K=function(){var t=Object(d.a)(j.a.mark((function t(){var n,a,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.stringify({Id:r.Id,Name:f,Country_Name:Y,User_Id:r.User_Id,User:{Id:r.User_Id,User_Name:w,Password:A,Email:D,User_Role:2}}),t.next=3,P.updateAirline(a);case 3:!0===(n=t.sent)?m.a.fire("Your details have been updated succefully!","You can change it again anytime","success").then((function(){e.push("/airline/flights"),e.push("/airline/details")})):(403===n.status&&(i=n.error.split("_")[1],m.a.fire({icon:"error",title:"Oops...",text:"".concat(i," is allready taken")})),401===n.status&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to update details"}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H=function(){var t=Object(d.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===(r=w.length<5?"User name is too short":w.length>20?"User name is too long":A!==U?"You must confirm your password currectly!":A.length<5?"Your password is too short":A.length>20?"Your password is too long":f.length<3?"Company name is too short":!D.includes("@")||D.length<4?"Email must be in right format":"")){t.next=5;break}m.a.fire({icon:"error",title:"Oops...",text:"".concat(r)}),t.next=13;break;case 5:if(J===A){t.next=12;break}return t.next=8,P.updatePassword(J,A);case 8:!0===(n=t.sent)?K():(403===n.status&&m.a.fire({icon:"error",title:"Oops...",text:"New password can't be like the old one"}).then((function(){e.push("/airline/flights"),e.push("/airline/details")})),401===n.status&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to change password"}).then((function(){e.push("/airline/flights"),e.push("/airline/details")}))),t.next=13;break;case 12:K();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Personal Details"})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Company Name: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:r.Name,onChange:function(e){O(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Country: "})," ",M," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" User Name: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:w,onChange:function(e){C(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Email: "})," ",Object(g.jsx)("input",{type:"email",defaultValue:D,onChange:function(e){W(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Password: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:A,onChange:function(e){T(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Confirm Password: "})," ",Object(g.jsx)("input",{type:"text",defaultValue:U,onChange:function(e){_(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Edit",style:{height:"50px",width:"100px",fontSize:"25px"},className:"button btnBorder btnLightBlue",onClick:function(){return H()}})]})}),L=(n(81),n(87)),F=function(){var e=Object(u.f)(),t=Object(s.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)([]),c=Object(b.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)([]),x=Object(b.a)(p,2),f=x[0],O=x[1],y=Object(s.useState)([]),v=Object(b.a)(y,2),w=v[0],C=v[1],k=Object(s.useState)({}),N=Object(b.a)(k,2),A=N[0],T=N[1],B=Object(s.useState)(!1),S=Object(b.a)(B,2),U=S[0],_=S[1],I=Object(s.useState)(""),E=Object(b.a)(I,2),D=E[0],W=E[1],F=Object(s.useState)(""),Y=Object(b.a)(F,2),z=Y[0],G=Y[1],V=Object(s.useState)(""),J=Object(b.a)(V,2),R=J[0],M=J[1],K=Object(s.useState)(""),H=Object(b.a)(K,2),q=H[0],Q=H[1],X=Object(s.useState)(!1),Z=Object(b.a)(X,2),$=Z[0],ee=Z[1],te=function(){return ee(!1)};Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getAirlineFlights();case 2:return t=e.sent,a(t),e.next=6,P.getFlightsTickets();case 6:return n=e.sent,l(n),e.next=10,P.GetAllCountries();case 10:r=e.sent,C(JSON.parse(r));case 12:case"end":return e.stop()}}),e)}))),[]),Object(s.useEffect)((function(){setTimeout((function(){h()("#origionCountry option:contains(".concat(A.OrigionCountry,")")).prop("selected",!0),h()("#destinationCountry option:contains(".concat(A.DestinationCountry,")")).prop("selected",!0)}),10)}),[A]),r&&r.sort((function(e,t){return e.Id>t.Id?1:e.Id<t.Id?-1:0}));var ne,re=Object(g.jsxs)("select",{id:"origionCountry",onChange:function(e){return W(e.target.value)},children:[w.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]}),ae=Object(g.jsxs)("select",{id:"destinationCountry",onChange:function(e){return G(e.target.value)},children:[w.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]}),ie=function(e){var t=e.split(":")[0],n=e.split(":")[1];return e=(e=t+":"+n).replace("T"," ")},se=function(e){var t=o.filter((function(t){return t.Flight_Id==e}));O(t),ee(!0)},ce=function(t,n){return Object(g.jsxs)("tr",{className:"popupOpen",children:[Object(g.jsx)("td",{onClick:function(){return se(t.Id)},children:t.Id}),Object(g.jsx)("td",{children:t.OrigionCountry}),Object(g.jsx)("td",{children:t.DestinationCountry}),Object(g.jsx)("td",{children:ie(t.Departure_Time)}),Object(g.jsx)("td",{children:ie(t.Landing_Time)}),Object(g.jsx)("td",{children:t.RemainingTickets}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(e){T(e),W(e.OrigionCountry),G(e.DestinationCountry),M(e.Departure_Time),Q(e.Landing_Time),_(!0)}(t)},className:"button btnBorder btnBlueGreen",value:"Edit"})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(t){var n=new Date;new Date(t.Departure_Time).getTime()>n.getTime()?m.a.fire({title:"Are you sure you want to cancel this flight?",text:"All customers tickets purchases will be canceled",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=5;break}return n.next=3,P.deleteFlight(JSON.stringify(t));case 3:n.sent?m.a.fire("Flight has been canceled succefully!","All customers tickets purchases are be canceled","success").then((function(){e.push("/airline/details"),e.push("/airline/flights")})):m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not delete flight"});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()):m.a.fire({icon:"error",title:"You can't cancel Flight",text:"The flight has already taken off"})}(t)},className:"button btnBorder btnLightBlue",value:"Cancel"})})]},n)};r&&(ne=Object(g.jsxs)("table",{id:"flightsTbl",border:"1",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"Origion Country"}),Object(g.jsx)("th",{children:"Destination Country"}),Object(g.jsx)("th",{children:"Departure Time"}),Object(g.jsx)("th",{children:"Landing Time"}),Object(g.jsx)("th",{children:"Remaining Tickets"}),Object(g.jsx)("th",{children:"Edit"}),Object(g.jsx)("th",{children:"Cancel"})]})}),Object(g.jsx)("tbody",{children:r.map((function(e,t){return ce(e,t)}))})]}));var oe;A!=={}&&(oe=Object(g.jsxs)("div",{children:["  ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" ID: "})," ",A.Id," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Airline Company Name: "})," ",A.AirlineCompanyName," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Origion Country: "})," ",re," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Destination Country: "})," ",ae," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Departure Time: "})," ",Object(g.jsx)("input",{type:"datetime-local",onChange:function(e){return M(e.target.value)},defaultValue:A.Departure_Time})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Landing Time: "})," ",Object(g.jsx)("input",{type:"datetime-local",onChange:function(e){return Q(e.target.value)},defaultValue:A.Landing_Time})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Remaining Tickets: "})," ",A.RemainingTickets," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){_(!1)}})," "," ",Object(g.jsx)("input",{type:"button",value:"Update",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var e=new Date(R),t=new Date(q);if(e.getTime()>t.getTime())m.a.fire({icon:"error",title:"Could not update flight",text:"Departure time must be before landing time"});else{var n=JSON.stringify({Id:A.Id,AirlineCompanyName:A.AirlineCompanyName,OrigionCountry:D,DestinationCountry:z,Departure_Time:R,Landing_Time:q,RemainingTickets:A.RemainingTickets});m.a.fire({title:"Are you Ok with the changes?",text:"You might want to review the changed again",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update details!"}).then(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=5;break}return e.next=3,P.updateFlight(n);case 3:!0===e.sent?m.a.fire("Flight details have been updated succefully!","Updated Data will be displayed in the website","success").then((function(){var e=r,t=e.findIndex((function(e){return e.Id===A.Id}));e[t]=JSON.parse(n),a(e),_(!1)})):m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not update flight details"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}()}})]}));var ue=function(){return Object(g.jsxs)(L.a,{show:$,onHide:te,children:[Object(g.jsx)(L.a.Header,{closeButton:!0}),Object(g.jsx)(L.a.Body,{children:Object(g.jsxs)("table",{border:"1",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"First Name"}),Object(g.jsx)("th",{children:"Last Name"}),Object(g.jsx)("th",{children:"Address"}),Object(g.jsx)("th",{children:"Phone"})]})}),Object(g.jsx)("tbody",{children:f.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.Id}),Object(g.jsx)("td",{children:e.First_Name}),Object(g.jsx)("td",{children:e.Last_Name}),Object(g.jsx)("td",{children:e.Address}),Object(g.jsx)("td",{children:e.Phone_No})]},t)}))})]})})]})},le=$?"Flight's passengers":U?"Update Flight":"Flights";return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:le}),$?Object(g.jsx)(ue,{}):U?oe:ne]})},Y=function(){var e=Object(u.f)(),t=new Date;t.setMinutes(t.getMinutes()-t.getTimezoneOffset());var n=t.toISOString().slice(0,16),r=Object(s.useState)(""),a=Object(b.a)(r,2),i=a[0],c=a[1],o=Object(s.useState)([]),l=Object(b.a)(o,2),p=l[0],h=l[1],x=Object(s.useState)(""),f=Object(b.a)(x,2),O=f[0],y=f[1],v=Object(s.useState)(""),w=Object(b.a)(v,2),C=w[0],k=w[1],N=Object(s.useState)(n),A=Object(b.a)(N,2),T=A[0],B=A[1],S=Object(s.useState)(n),U=Object(b.a)(S,2),_=U[0],I=U[1],E=Object(s.useState)(1),D=Object(b.a)(E,2),W=D[0],L=D[1];Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getAirlineDetails();case 2:return t=e.sent,c(t.Name),e.next=6,P.GetAllCountries();case 6:n=e.sent,y(JSON.parse(n)[0].Name),k(JSON.parse(n)[0].Name),h(JSON.parse(n));case 10:case"end":return e.stop()}}),e)}))),[]);var F=Object(g.jsxs)("select",{id:"origionCountry",onChange:function(e){return y(e.target.value)},children:[p.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]}),Y=Object(g.jsxs)("select",{id:"destinationCountry",onChange:function(e){return k(e.target.value)},children:[p.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]});return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Create New flight"})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Airline Company Name: "})," ",i," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Origion Country: "})," ",F," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Destination Country: "})," ",Y," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Departure Time: "})," ",Object(g.jsx)("input",{type:"datetime-local",min:n,defaultValue:n,onChange:function(e){return B(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Landing Time: "})," ",Object(g.jsx)("input",{type:"datetime-local",min:n,defaultValue:n,onChange:function(e){return I(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Tickets Amount: "}),Object(g.jsx)("input",{style:{width:"60px"},type:"number",min:"1",defaultValue:"1",onChange:function(e){return L(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Create",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var t=parseFloat(W);if(W<1||""===W||!Number.isInteger(t))m.a.fire({icon:"error",title:"Invalid ticket amount",text:"Must be at least 1 and an integer number"});else{var n=new Date(T),r=new Date(_);if(n.getTime()>r.getTime())m.a.fire({icon:"error",title:"Could not create flight",text:"Departure time must be before landing time"});else{var a=JSON.stringify({AirlineCompanyName:i,OrigionCountry:O,DestinationCountry:C,Departure_Time:T,Landing_Time:_,RemainingTickets:W});m.a.fire({title:"Are you sure you are OK with flight details?",text:"you can review details before approving the creation",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create it!"}).then(function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isConfirmed){t.next=5;break}return t.next=3,P.createNewFlight(a);case 3:t.sent?m.a.fire("Flight has been created succefully!","Flight will be displayed in the website","success").then((function(){e.push("/airline/details"),e.push("/airline/newFlight")})):m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not create flight"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}()}})]})},z=S.a.header(a||(a=Object(T.a)(["\n  width: 100%;\n  border-bottom: 10px solid #222;\n  z-index: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px 100px 0;\n  height: 140px;\n  margin-bottom: 60px;\n  background: #f8f8f8;\n\n  .logo a {\n    padding-top: 33px;\n    display: flex;\n    flex-direction: column;\n    clear: both;\n    padding-bottom: 30px;\n    text-decoration: none;\n\n    p {\n      width: 500px;\n      display: block;\n    }\n    em {\n      font-size: 0.5em;\n      float: left;\n      display: block;\n      img {\n        display: inline-block;\n        margin-top: 5px;\n        width: 15px;\n        float: left;\n      }\n      .letterhead {\n        display: inline-block;\n        line-height: 260%;\n        float: left;\n      }\n    }\n  }\n  .gray {\n    color: #ccc;\n  }\n  a {\n    color: #222;\n    opacity: 0.55;\n    transition: all 0.6s;\n    color: #222;\n    font-size: 1em;\n  }\n  a:hover {\n    opacity: 1;\n  }\n  .fa-bars {\n    display: none;\n    color: #222;\n    font-size: 2rem;\n  }\n  nav {\n    ul {\n      display: flex;\n      justify-content: space-between;\n    }\n    li {\n      margin: 0 15px;\n      justify-content: space-between;\n      font-size: 1em;\n    }\n    a {\n      font-size: 1em;\n      text-decoration: none;\n      .active {\n        color: tomato;\n      }\n    }\n    a.active {\n      color: #222;\n    }\n  }\n\n  @media only screen and (max-width: 800px) {\n    padding: 0px;\n    .logo {\n      padding-left: 15px;\n      padding-top: 0px !important;\n    }\n  }\n  @media only screen and (max-width: 600px) {\n    height: auto;\n    min-height: 50px;\n    display: block;\n    position: relative;\n    .logo {\n      width: 100%;\n      display: block;\n      padding-top: 20px;\n      margin: 0px;\n      margin-left: -5px;\n      a {\n        padding: 20px 0px;\n      }\n    }\n    .fa-bars {\n      display: inline-block;\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      cursor: pointer;\n    }\n    ul.collapsed {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      flex-wrap: wrap;\n\n      overflow: hidden;\n      max-height: 0;\n      -moz-transition-duration: 0.4s;\n      -webkit-transition-duration: 0.4s;\n      -o-transition-duration: 0.4s;\n      transition-duration: 0.4s;\n      -moz-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      -webkit-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      -o-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n\n      &.is-expanded {\n        overflow: hidden;\n        max-height: 500px; /* approximate max height */\n        -moz-transition-duration: 0.4s;\n        -webkit-transition-duration: 0.4s;\n        -o-transition-duration: 0.4s;\n        transition-duration: 0.4s;\n        -moz-transition-timing-function: ease-in;\n        -webkit-transition-timing-function: ease-in;\n        -o-transition-timing-function: ease-in;\n        transition-timing-function: ease-in;\n      }\n      li {\n        padding: 15px 10px;\n        margin: 0px 0px;\n        width: 100%;\n      }\n    }\n  }\n"]))),G=function(e){Object(N.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(C.a)(this,n),(r=t.call(this,e)).state={isExpanded:!1},r}return Object(k.a)(n,[{key:"handleToggle",value:function(e){e.preventDefault(),this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){var e=this,t=this.state.isExpanded;return Object(g.jsx)(z,{children:Object(g.jsxs)("nav",{className:"nav",children:[Object(g.jsx)("i",{className:"fa fa-bars","aria-hidden":"true",onClick:function(t){return e.handleToggle(t)}}),Object(g.jsxs)("ul",{className:"collapsed ".concat(t?"is-expanded":""),children:[Object(g.jsx)(B.b,{activeClassName:"active",to:"/airline/flights",children:Object(g.jsx)("li",{children:"My Flights"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/airline/details",children:Object(g.jsx)("li",{children:"Details"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/airline/newFlight",children:Object(g.jsx)("li",{children:"New Flight"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/flights",children:Object(g.jsx)("li",{children:"All Flights"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/FlightPages/loginPage.html",children:Object(g.jsx)("li",{children:"Log Out"})})]})]})})}}]),n}(s.Component),V=Object(u.g)(G),J=function(){var e=Object(u.f)();return Object(s.useEffect)((function(){e.push("/airline/details")}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(V,{}),Object(g.jsx)(u.c,{children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)(u.a,{path:"/airline/flights",children:[" ",Object(g.jsx)(F,{})," "]}),Object(g.jsxs)(u.a,{path:"/airline/details",children:[" ",Object(g.jsx)(W,{})," "]}),Object(g.jsxs)(u.a,{path:"/airline/newFlight",children:[" ",Object(g.jsx)(Y,{})," "]})]})})]})},R=localStorage.getItem("JWT"),M={getWaitingAdmins:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Administrator/GetAllWaitingAdmins",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+R}});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.status);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),approveAdmin:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"POST",url:"/api/Administrator/ApproveAdmin",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.sent,e.abrupt("return",!0);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.status;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),rejectAdmin:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"DELETE",url:"/api/Administrator/RejectAdmin",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0.status;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getWaitingAirlines:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Administrator/GetAllWaitingAirlines",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+R}});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.status);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),approveAirline:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"POST",url:"/api/Administrator/ApproveAirline",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0.status;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),rejectAirline:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"DELETE",url:"/api/Administrator/RejectAirline",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0.status;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getAllAirlines:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Administrator/GetAllAirlines",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+R}});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),updateAirline:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({url:"/api/Administrator/UpdateAirlineDetails",type:"PUT",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),deleteAirline:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"DELETE",url:"/api/Administrator/RemoveAirline",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.status);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),createNewAirline:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"POST",url:"/api/Administrator/CreateAirlineCompany",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),GetAllCustomers:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Administrator/GetAllCustomers",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+R}});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),updateCustomer:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({url:"/api/Administrator/UpdateCustomerDetails",type:"PUT",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),deleteCustomer:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"DELETE",url:"/api/Administrator/RemoveCustomer",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.status);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),createNewCustomer:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"POST",url:"/api/Administrator/CreateCustomer",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),GetAllAdmins:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Administrator/GetAllAdmins",contentType:"application/json",dataType:"json",headers:{Authorization:"Bearer "+R}});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),updateAdmin:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({url:"/api/Administrator/UpdateAdmin",type:"PUT",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),deleteAdmin:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({url:"/api/Administrator/RemoveAdmin",type:"DELETE",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.status);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),createNewAdmin:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"POST",url:"/api/Administrator/CreateAdmin",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),updateCountry:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({url:"/api/Administrator/UpdateCountry",type:"PUT",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),deleteCountry:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"DELETE",url:"/api/Administrator/RemoveCountry?countryId=".concat(t),contentType:"application/json",headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.status);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),createNewCountry:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"POST",url:"/api/Administrator/CreateCountry",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),updatePassword:function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"PUT",url:"/Administrator/ChangeAdminPassword?oldPassword=".concat(t,"&newPassword=").concat(n),contentType:"application/json",headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),updateMyUser:function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({url:"/api/Administrator/UpdateMyDetails",type:"PUT",contentType:"application/json",data:t,headers:{Authorization:"Bearer "+R}});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.status,error:e.t0.responseText});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},K=function(){var e=Object(u.f)(),t=Object(s.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(""),c=Object(b.a)(i,2),o=c[0],l=c[1];Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getWaitingAdmins();case 2:"object"==typeof(t=e.sent)?a(t):l(403===t?"You are not allowed to watch waiting admins":"There is a problem to present waiting admins");case 4:case"end":return e.stop()}}),e)}))),[]);var p,h=function(t,n){return Object(g.jsxs)("tr",{className:"popupOpen",children:[Object(g.jsx)("td",{children:t.First_Name}),Object(g.jsx)("td",{children:t.Last_Name}),Object(g.jsx)("td",{children:t.Level}),Object(g.jsx)("td",{children:t.User.User_Name}),Object(g.jsx)("td",{children:t.User.Password}),Object(g.jsx)("td",{children:t.User.Email}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(t){m.a.fire({title:"Are you sure?",text:"The user will get admin authorization",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept the admin"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=10;break}return n.prev=1,n.next=4,M.approveAdmin(JSON.stringify(t));case 4:m.a.fire("Admin was accepted succefully!","Now the admin can login to the system","success").then((function(){e.push("/admin/details"),e.push("/admin/adminsInbox")})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),403==n.t0?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to accept admin"}):m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not approve admin"});case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}())}(t)},style:{width:"75px"},className:"button btnBorder btnBlueGreen",value:"Accept"})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(t){m.a.fire({title:"Are you sure?",text:"The user will not be created",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, reject the admin"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=10;break}return n.prev=1,n.next=4,M.rejectAdmin(JSON.stringify(t));case 4:m.a.fire("Admin was rejected succefully!","User wasn't created","success").then((function(){e.push("/admin/details"),e.push("/admin/adminsInbox")})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),403==n.t0?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to reject admin"}):m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not reject admin"});case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}())}(t)},className:"button btnBorder btnRed",value:"Reject"})})]},n)};return p=r&&""===o?Object(g.jsxs)("table",{border:"1",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"First Name"}),Object(g.jsx)("th",{children:"Last Name"}),Object(g.jsx)("th",{children:"Level"}),Object(g.jsx)("th",{children:"User Name"}),Object(g.jsx)("th",{children:"Password"}),Object(g.jsx)("th",{children:"Email"}),Object(g.jsx)("th",{children:"Accept"}),Object(g.jsx)("th",{children:"Reject"})]})}),Object(g.jsx)("tbody",{children:r.map((function(e,t){return h(e,t)}))})]}):Object(g.jsx)("h1",{style:{color:"red"},children:o}),Object(g.jsxs)("div",{children:[""===o&&Object(g.jsx)("h1",{children:"Admins Inbox"}),p]})},H=function(){var e=Object(u.f)(),t=Object(s.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(""),c=Object(b.a)(i,2),o=c[0],l=c[1];Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getWaitingAirlines();case 2:"object"==typeof(t=e.sent)?a(t):l(403===t?"You are not allowed to watch waiting airlines":"There is a problem to present waiting airlines");case 4:case"end":return e.stop()}}),e)}))),[]);var p,h=function(t,n){return Object(g.jsxs)("tr",{className:"popupOpen",children:[Object(g.jsx)("td",{children:t.Name}),Object(g.jsx)("td",{children:t.Country_Name}),Object(g.jsx)("td",{children:t.User.User_Name}),Object(g.jsx)("td",{children:t.User.Password}),Object(g.jsx)("td",{children:t.User.Email}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(t){m.a.fire({title:"Are you sure?",text:"This action will create new airline company",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Accept the airline company"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=10;break}return n.prev=1,n.next=4,M.approveAirline(JSON.stringify(t));case 4:m.a.fire("Airline was accepted succefully!","Now the airline can login to the system","success").then((function(){e.push("/admin/details"),e.push("/admin/airlinesInbox")})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),403==n.t0?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to accept airline"}):m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not approve airline"});case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}())}(t)},style:{width:"75px"},className:"button btnBorder btnBlueGreen",value:"Accept"})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(t){m.a.fire({title:"Are you sure?",text:"The user will not be created",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, reject the airline"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=10;break}return n.prev=1,n.next=4,M.rejectAirline(JSON.stringify(t));case 4:m.a.fire("Airline was rejected succefully!","User wasn't created","success").then((function(){e.push("/admin/details"),e.push("/admin/airlinesInbox")})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),403==n.t0?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to reject airline"}):m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not reject airline"});case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}())}(t)},className:"button btnBorder btnRed",value:"Reject"})})]},n)};return p=r&&""===o?Object(g.jsxs)("table",{border:"1",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"company Name"}),Object(g.jsx)("th",{children:"Country"}),Object(g.jsx)("th",{children:"User Name"}),Object(g.jsx)("th",{children:"Password"}),Object(g.jsx)("th",{children:"Email"}),Object(g.jsx)("th",{children:"Accept"}),Object(g.jsx)("th",{children:"Reject"})]})}),Object(g.jsx)("tbody",{children:r.map((function(e,t){return h(e,t)}))})]}):Object(g.jsx)("h1",{style:{color:"red"},children:o}),Object(g.jsxs)("div",{children:[""===o&&Object(g.jsx)("h1",{children:"Airlines Inbox"}),p]})},q=function(){var e=Object(u.f)(),t=Object(s.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)([]),c=Object(b.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)({}),x=Object(b.a)(p,2),f=x[0],O=x[1],y=Object(s.useState)(!1),v=Object(b.a)(y,2),w=v[0],C=v[1],k=Object(s.useState)(!1),N=Object(b.a)(k,2),A=N[0],T=N[1],B=Object(s.useState)(""),S=Object(b.a)(B,2),U=S[0],_=S[1],I=Object(s.useState)(""),E=Object(b.a)(I,2),D=E[0],W=E[1],L=Object(s.useState)(""),F=Object(b.a)(L,2),Y=F[0],z=F[1],G=Object(s.useState)(""),V=Object(b.a)(G,2),J=V[0],R=V[1],K=Object(s.useState)(""),H=Object(b.a)(K,2),q=H[0],Q=H[1],X=Object(s.useState)(""),Z=Object(b.a)(X,2),$=Z[0],ee=Z[1];Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getAllAirlines();case 2:return t=e.sent,a(t),e.next=6,P.GetAllCountries();case 6:n=e.sent,l(JSON.parse(n));case 8:case"end":return e.stop()}}),e)}))),[]),Object(s.useEffect)((function(){setTimeout((function(){h()("#countries option:contains(".concat(f.Country_Name,")")).prop("selected",!0)}),10)}),[f]),r&&r.sort((function(e,t){return e.Id>t.Id?1:e.Id<t.Id?-1:0}));var te,ne=Object(g.jsxs)("select",{id:"countries",onChange:function(e){return W(e.target.value)},children:[o.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]}),re=function(t,n){return Object(g.jsxs)("tr",{className:"popupOpen",children:[Object(g.jsx)("td",{children:t.Id}),Object(g.jsx)("td",{children:t.Name}),Object(g.jsx)("td",{children:t.Country_Name}),Object(g.jsx)("td",{children:t.User.User_Name}),Object(g.jsx)("td",{children:t.User.Password}),Object(g.jsx)("td",{children:t.User.Email}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(e){O(e),_(e.Name),W(e.Country_Name),z(e.User.User_Name),R(e.User.Password),Q(e.User.Password),ee(e.User.Email),C(!0)}(t)},className:"button btnBorder btnBlueGreen",value:"Edit"})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(t){m.a.fire({title:"Are you sure you want to delete this Airline Company?",text:"All it's flights will be canceled",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=5;break}return n.next=3,M.deleteAirline(JSON.stringify(t));case 3:!0===(a=n.sent)?m.a.fire("Airline has been deleted succefully!","All it's flights are canceled","success").then((function(){e.push("/admin/details"),e.push("/admin/airlines")})):401===a?m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not delete airline"}):m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to delete airline company"});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(t)},className:"button btnBorder btnLightBlue",value:"Delete"})})]},n)};r&&(te=Object(g.jsxs)("table",{border:"1",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"company Name"}),Object(g.jsx)("th",{children:"Country"}),Object(g.jsx)("th",{children:"User Name"}),Object(g.jsx)("th",{children:"Password"}),Object(g.jsx)("th",{children:"Email"}),Object(g.jsx)("th",{children:"Edit"}),Object(g.jsx)("th",{children:"Delete"})]})}),Object(g.jsx)("tbody",{children:r.map((function(e,t){return re(e,t)}))})]}));var ae,ie=function(){return Y.length<5?"User name is too short":Y.length>20?"User name is too long":J!==q?"You must confirm your password currectly!":J.length<5?"Your password is too short":J.length>20?"Your password is too long":U.length<3?"Company name is too short":!$.includes("@")||$.length<4?"Email must be in right format":""};f!=={}&&(ae=Object(g.jsxs)("div",{children:["  ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" ID: "})," ",f.Id," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Airline Company Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:f.Name,onChange:function(e){return _(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Country: "})," ",ne," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" User Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:Y,onChange:function(e){return z(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:J,onChange:function(e){return R(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Confirm Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:q,onChange:function(e){return Q(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Email: "}),Object(g.jsx)("input",{type:"text",defaultValue:$,onChange:function(e){return ee(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){C(!1)}})," "," ",Object(g.jsx)("input",{type:"button",value:"Update",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var t;m.a.fire({title:"Are you OK with the changes?",text:"You can review then again before accepting",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, change it"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a,i,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=11;break}if(""===(a=ie())){n.next=6;break}m.a.fire({icon:"error",title:"Oops...",text:"".concat(a)}),n.next=11;break;case 6:return i=JSON.stringify({Id:f.Id,Name:U,Country_Name:D,User_Id:f.User_Id,User:{Id:f.User_Id,User_Name:Y,Password:J,Email:$,User_Role:2}}),n.next=9,M.updateAirline(i);case 9:!0===(t=n.sent)?m.a.fire("Airline was updated succefully!","You can change it again anytime","success").then((function(){e.push("/admin/details"),e.push("/admin/airlines")})):403===t.status?(s=t.error.split("_")[1],m.a.fire({icon:"error",title:"Oops...",text:"".concat(s," is allready taken")})):401===t.status&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to update details"});case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}()}})]}));var se;f!=={}&&(se=Object(g.jsxs)("div",{children:["  ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Airline Company Name: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return _(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Country: "})," ",ne," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" User Name: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return z(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Password: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return R(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Confirm Password: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return Q(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Email: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return ee(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){T(!1)}})," "," ",Object(g.jsx)("input",{type:"button",value:"Create",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var t;m.a.fire({title:"Are you sure with the details?",text:"You can review them again before creating",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create it!"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a,i,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=11;break}if(""===(a=ie())){n.next=6;break}m.a.fire({icon:"error",title:"Oops...",text:"".concat(a)}),n.next=11;break;case 6:return i=JSON.stringify({Name:U,Country_Name:D,User:{User_Name:Y,Password:J,Email:$,User_Role:2}}),n.next=9,M.createNewAirline(i);case 9:!0===(t=n.sent)?m.a.fire("Airline company was created succefully!","You can change it again anytime","success").then((function(){e.push("/admin/details"),e.push("/admin/airlines")})):400===t.status?(s=t.error.split("_")[1],m.a.fire({icon:"error",title:"Oops...",text:"".concat(s," is allready taken")})):403===t.status?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to create airline company"}):m.a.fire({icon:"error",title:"Oops...",text:"Could not create new airline company"});case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}()}})]}));var ce=Object(g.jsx)("input",{type:"button",value:"Create New Airline",className:"button btnBorder btnLightBlue",style:{width:"150px"},onClick:function(){_(""),W(o[0].Name),z(""),R(""),Q(""),ee(""),T(!0)}});return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Airlines"})," ",Object(g.jsx)("br",{}),!w&&!A&&ce,w?ae:A?se:te]})},Q=function(){var e=Object(u.f)(),t=Object(s.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)({}),c=Object(b.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)(!1),h=Object(b.a)(p,2),x=h[0],f=h[1],O=Object(s.useState)(!1),y=Object(b.a)(O,2),v=y[0],w=y[1],C=Object(s.useState)(""),k=Object(b.a)(C,2),N=k[0],A=k[1],T=Object(s.useState)(""),B=Object(b.a)(T,2),S=B[0],U=B[1],_=Object(s.useState)(""),I=Object(b.a)(_,2),E=I[0],D=I[1],P=Object(s.useState)(""),W=Object(b.a)(P,2),L=W[0],F=W[1],Y=Object(s.useState)(""),z=Object(b.a)(Y,2),G=z[0],V=z[1],J=Object(s.useState)(""),R=Object(b.a)(J,2),K=R[0],H=R[1],q=Object(s.useState)(""),Q=Object(b.a)(q,2),X=Q[0],Z=Q[1],$=Object(s.useState)(""),ee=Object(b.a)($,2),te=ee[0],ne=ee[1],re=Object(s.useState)(""),ae=Object(b.a)(re,2),ie=ae[0],se=ae[1],ce=Object(s.useState)(""),oe=Object(b.a)(ce,2),ue=oe[0],le=oe[1];Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.GetAllCustomers();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)}))),[]),r&&r.sort((function(e,t){return e.Id>t.Id?1:e.Id<t.Id?-1:0}));var je,de=function(t,n){return Object(g.jsxs)("tr",{className:"popupOpen",children:[Object(g.jsx)("td",{children:t.Id}),Object(g.jsx)("td",{children:t.First_Name}),Object(g.jsx)("td",{children:t.Last_Name}),Object(g.jsx)("td",{children:t.Address}),Object(g.jsx)("td",{children:t.Phone_No}),Object(g.jsx)("td",{children:t.Credit_Card_No}),Object(g.jsx)("td",{children:t.User.User_Name}),Object(g.jsx)("td",{children:t.User.Password}),Object(g.jsx)("td",{children:t.User.Email}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(e){l(e),A(e.First_Name),U(e.Last_Name),D(e.Address),le(e.Phone_No.split("-")[0]),F(e.Phone_No.split("-")[1]),V(e.Credit_Card_No),H(e.User.User_Name),Z(e.User.Password),ne(e.User.Password),se(e.User.Email),f(!0)}(t)},className:"button btnBorder btnBlueGreen",value:"Edit"})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(t){m.a.fire({title:"Are you sure you want to delete this customer?",text:"The user won't be able to login again",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=5;break}return n.next=3,M.deleteCustomer(JSON.stringify(t));case 3:!0===(a=n.sent)?m.a.fire("Customer has been deleted succefully!","The user cannot longer login to the system anymore","success").then((function(){e.push("/admin/details"),e.push("/admin/customers")})):401===a?m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not delete customer"}):m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to delete customer"});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(t)},className:"button btnBorder btnLightBlue",value:"Delete"})})]},n)};r&&(je=Object(g.jsxs)("table",{border:"1",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"First Name"}),Object(g.jsx)("th",{children:"Last Name"}),Object(g.jsx)("th",{children:"Address"}),Object(g.jsx)("th",{children:"Phone"}),Object(g.jsx)("th",{children:"Credit Card"}),Object(g.jsx)("th",{children:"User Name"}),Object(g.jsx)("th",{children:"Password"}),Object(g.jsx)("th",{children:"Email"}),Object(g.jsx)("th",{children:"Edit"}),Object(g.jsx)("th",{children:"Delete"})]})}),Object(g.jsx)("tbody",{children:r.map((function(e,t){return de(e,t)}))})]}));var be,pe=function(){return K.length<5?"User name is too short":K.length>20?"User name is too long":X!==te?"You must confirm your password currectly!":X.length<5?"Your password is too short":X.length>20?"Your password is too long":N.length<2?"First name is too short":S.length<2?"Last name is too short":E.length<10?"Address is too short":7!==L.length?"Phone number must include 7 digits":16!==G.length?"Credit card number must include 16 digits":!ie.includes("@")||ie.length<4?"Email must be in right format":""};o!=={}&&(be=Object(g.jsxs)("div",{children:["  ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" ID: "})," ",o.Id," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" First Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:N,onChange:function(e){return A(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Last Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:S,onChange:function(e){return U(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Address: "}),Object(g.jsx)("input",{type:"text",defaultValue:E,onChange:function(e){return D(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Phone: "}),Object(g.jsxs)("select",{id:"prefixNum",value:ue,onChange:function(e){return le(e.target.value)},children:[Object(g.jsx)("option",{value:"050",children:"050"}),Object(g.jsx)("option",{value:"051",children:"051"}),Object(g.jsx)("option",{value:"052",children:"052"}),Object(g.jsx)("option",{value:"053",children:"053"}),Object(g.jsx)("option",{value:"054",children:"054"}),Object(g.jsx)("option",{value:"055",children:"055"})]}),Object(g.jsx)("input",{type:"text",defaultValue:L,onChange:function(e){return F(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Credit Card: "}),Object(g.jsx)("input",{type:"text",defaultValue:G,onChange:function(e){return V(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" User Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:K,onChange:function(e){return H(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:X,onChange:function(e){return Z(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Confirm Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:te,onChange:function(e){return ne(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Email: "}),Object(g.jsx)("input",{type:"text",defaultValue:ie,onChange:function(e){return se(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){f(!1)}})," "," ",Object(g.jsx)("input",{type:"button",value:"Update",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var t;m.a.fire({title:"Are you OK with the changes?",text:"You can review then again before accepting",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, change it"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a,i,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=11;break}if(""===(a=pe())){n.next=6;break}m.a.fire({icon:"error",title:"Oops...",text:"".concat(a)}),n.next=11;break;case 6:return i=JSON.stringify({Id:o.Id,First_Name:N,Last_Name:S,Address:E,Phone_No:ue+"-"+L,Credit_Card_No:G,User_Id:o.User_Id,User:{Id:o.User_Id,User_Name:K,Password:X,Email:ie,User_Role:3}}),n.next=9,M.updateCustomer(i);case 9:!0===(t=n.sent)?m.a.fire("Customer was updated succefully!","You can change it again anytime","success").then((function(){e.push("/admin/details"),e.push("/admin/customers")})):403===t.status?(s=t.error.split("_")[1],m.a.fire({icon:"error",title:"Oops...",text:"".concat(s," is allready taken")})):401===t.status&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to update details"});case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}()}})]}));var he;o!=={}&&(he=Object(g.jsxs)("div",{children:["  ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" First Name: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return A(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Last Name: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return U(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Address: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return D(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Phone: "}),Object(g.jsxs)("select",{onChange:function(e){return le(e.target.value)},children:[Object(g.jsx)("option",{value:"050",children:"050"}),Object(g.jsx)("option",{value:"051",children:"051"}),Object(g.jsx)("option",{value:"052",children:"052"}),Object(g.jsx)("option",{value:"053",children:"053"}),Object(g.jsx)("option",{value:"054",children:"054"}),Object(g.jsx)("option",{value:"055",children:"055"})]}),Object(g.jsx)("input",{type:"text",onChange:function(e){return F(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Credit Card: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return V(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" User Name: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return H(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Password: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return Z(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Confirm Password: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return ne(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Email: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){return se(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){w(!1)}})," "," ",Object(g.jsx)("input",{type:"button",value:"Create",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var t;m.a.fire({title:"Are you sure with the details?",text:"You can review them again before creating",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create it!"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a,i,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=11;break}if(""===(a=pe())){n.next=6;break}m.a.fire({icon:"error",title:"Oops...",text:"".concat(a)}),n.next=11;break;case 6:return i=JSON.stringify({First_Name:N,Last_Name:S,Address:E,Phone_No:ue+"-"+L,Credit_Card_No:G,User:{User_Name:K,Password:X,Email:ie,User_Role:3}}),n.next=9,M.createNewCustomer(i);case 9:!0===(t=n.sent)?m.a.fire("Customer was created succefully!","You can change it again anytime","success").then((function(){e.push("/admin/details"),e.push("/admin/customers")})):400===t.status?(s=t.error.split("_")[1],m.a.fire({icon:"error",title:"Oops...",text:"".concat(s," is allready taken")})):403===t.status?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to create customer"}):m.a.fire({icon:"error",title:"Oops...",text:"Could not create new customer"});case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}()}})]}));var xe=Object(g.jsx)("input",{type:"button",value:"Create New Customer",className:"button btnBorder btnLightBlue",style:{width:"170px"},onClick:function(){A(""),U(""),D(""),le("050"),F(""),V(""),H(""),Z(""),ne(""),se(""),w(!0)}});return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Customers"})," ",Object(g.jsx)("br",{}),!x&&!v&&xe,x?be:v?he:je]})},X=function(){var e=Object(u.f)(),t=Object(s.useState)({}),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(""),c=Object(b.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)(""),h=Object(b.a)(p,2),x=h[0],f=h[1],O=Object(s.useState)(""),y=Object(b.a)(O,2),v=y[0],w=y[1],C=Object(s.useState)(""),k=Object(b.a)(C,2),N=k[0],A=k[1],T=Object(s.useState)(""),B=Object(b.a)(T,2),S=B[0],U=B[1],_=Object(s.useState)(""),I=Object(b.a)(_,2),E=I[0],D=I[1],P=Object(s.useState)(""),W=Object(b.a)(P,2),L=W[0],F=W[1],Y=Object(s.useState)(!1),z=Object(b.a)(Y,2),G=z[0],V=z[1],J=function(){var e=localStorage.getItem("JWT").split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t).mainUserId};Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.GetAllAdmins();case 2:t=e.sent,0!=(n=J())?(r=t.find((function(e){return e.Id==n})),a(r),l(r.First_Name),f(r.Last_Name),void 0!==r.User&&(w(r.User.User_Name),A(r.User.Password),U(r.User.Password),F(r.User.Password),D(r.User.Email))):V(!0);case 5:case"end":return e.stop()}}),e)}))),[]);var R=function(){var t=Object(d.a)(j.a.mark((function t(){var n,a,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.stringify({Id:r.Id,First_Name:o,Last_Name:x,Level:r.Level,User_Id:r.User_Id,User:{Id:r.User_Id,User_Name:v,Password:N,Email:E,User_Role:1}}),t.next=3,M.updateMyUser(a);case 3:!0===(n=t.sent)?m.a.fire("Your details have been updated succefully!","You can change it again anytime","success").then((function(){e.push("/admin/airlines"),e.push("/admin/details")})):(403===n.status&&(i=n.error.split("_")[1],m.a.fire({icon:"error",title:"Oops...",text:"".concat(i," is allready taken")})),401===n.status&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to update details"}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(d.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===(r=v.length<5?"User name is too short":v.length>20?"User name is too long":N!==S?"You must confirm your password currectly!":N.length<5?"Your password is too short":N.length>20?"Your password is too long":o.length<2?"First name is too short":x.length<2?"Last name is too short":!E.includes("@")||E.length<4?"Email must be in right format":"")){t.next=5;break}m.a.fire({icon:"error",title:"Oops...",text:"".concat(r)}),t.next=13;break;case 5:if(L===N){t.next=12;break}return t.next=8,M.updatePassword(L,N);case 8:!0===(n=t.sent)?R():(403===n.status&&m.a.fire({icon:"error",title:"Oops...",text:"New password can't be like the old one"}).then((function(){e.push("/airline/flights"),e.push("/airline/details")})),401===n.status&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to change password"}).then((function(){e.push("/admin/airlines"),e.push("/admin/details")}))),t.next=13;break;case 12:R();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{children:G?Object(g.jsx)("h1",{style:{color:"red"},children:"Main Admin is not allowed to update details"}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Personal Details"}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" ID: "})," ",r.Id," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" First Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:o,onChange:function(e){return l(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Last Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:x,onChange:function(e){return f(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Level: "})," ",r.Level," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" User Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:v,onChange:function(e){return w(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:N,onChange:function(e){return A(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Confirm Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:S,onChange:function(e){return U(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Email: "}),Object(g.jsx)("input",{type:"text",defaultValue:E,onChange:function(e){return D(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Update",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return K()}})]})})},Z=function(){var e=Object(u.f)(),t=Object(s.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)({}),c=Object(b.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)(!1),h=Object(b.a)(p,2),x=h[0],f=h[1],O=Object(s.useState)(!1),y=Object(b.a)(O,2),v=y[0],w=y[1],C=Object(s.useState)(""),k=Object(b.a)(C,2),N=k[0],A=k[1],T=Object(s.useState)(""),B=Object(b.a)(T,2),S=B[0],U=B[1],_=Object(s.useState)(""),I=Object(b.a)(_,2),E=I[0],D=I[1],P=Object(s.useState)(""),W=Object(b.a)(P,2),L=W[0],F=W[1],Y=Object(s.useState)(""),z=Object(b.a)(Y,2),G=z[0],V=z[1],J=Object(s.useState)(""),R=Object(b.a)(J,2),K=R[0],H=R[1],q=Object(s.useState)(""),Q=Object(b.a)(q,2),X=Q[0],Z=Q[1],$=function(){var e=localStorage.getItem("JWT").split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t).mainUserId};Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.GetAllAdmins();case 2:t=e.sent,n=$(),t=t.filter((function(e){return e.Id!=n})),a(t);case 6:case"end":return e.stop()}}),e)}))),[]),r&&r.sort((function(e,t){return e.Id>t.Id?1:e.Id<t.Id?-1:0}));var ee,te=function(t,n){return Object(g.jsxs)("tr",{className:"popupOpen",children:[Object(g.jsx)("td",{children:t.Id}),Object(g.jsx)("td",{children:t.First_Name}),Object(g.jsx)("td",{children:t.Last_Name}),Object(g.jsx)("td",{children:t.Level}),Object(g.jsx)("td",{children:t.User.User_Name}),Object(g.jsx)("td",{children:t.User.Password}),Object(g.jsx)("td",{children:t.User.Email}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(e){l(e),A(e.First_Name),U(e.Last_Name),F(e.User.User_Name),V(e.User.Password),H(e.User.Password),Z(e.User.Email),f(!0)}(t)},className:"button btnBorder btnBlueGreen",value:"Edit"})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:function(){!function(t){m.a.fire({title:"Are you sure you want to delete this admin?",text:"The user won't be able to login anymore",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=5;break}return n.next=3,M.deleteAdmin(JSON.stringify(t));case 3:!0===(a=n.sent)?m.a.fire("Admin has been deleted succefully!","The user cannot longer login to the system","success").then((function(){e.push("/admin/details"),e.push("/admin/admins")})):401===a?m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not delete amdin"}):403===a&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to delete admin"});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(t)},className:"button btnBorder btnLightBlue",value:"Delete"})})]},n)};r&&(ee=Object(g.jsxs)("table",{border:"1",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"First Name"}),Object(g.jsx)("th",{children:"Last Name"}),Object(g.jsx)("th",{children:"Level"}),Object(g.jsx)("th",{children:"User Name"}),Object(g.jsx)("th",{children:"Password"}),Object(g.jsx)("th",{children:"Email"}),Object(g.jsx)("th",{children:"Edit"}),Object(g.jsx)("th",{children:"Delete"})]})}),Object(g.jsx)("tbody",{children:r.map((function(e,t){return te(e,t)}))})]}));var ne,re=function(){return L.length<5?"User name is too short":L.length>20?"User name is too long":G!==K?"You must confirm your password currectly!":G.length<5?"Your password is too short":G.length>20?"Your password is too long":N.length<2?"First name is too short":S.length<2?"Last name is too short":!X.includes("@")||X.length<4?"Email must be in right format":""};o!=={}&&(ne=Object(g.jsxs)("div",{children:["  ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" ID: "})," ",o.Id," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" First Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:N,onChange:function(e){return A(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Last Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:S,onChange:function(e){return U(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Level: "})," ",o.Level," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" User Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:L,onChange:function(e){return F(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:G,onChange:function(e){return V(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Confirm Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:K,onChange:function(e){return H(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Email: "}),Object(g.jsx)("input",{type:"text",defaultValue:X,onChange:function(e){return Z(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){f(!1)}})," "," ",Object(g.jsx)("input",{type:"button",value:"Update",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var t;m.a.fire({title:"Are you OK with the changes?",text:"You can review then again before accepting",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, change it"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a,i,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=11;break}if(""===(a=re())){n.next=6;break}m.a.fire({icon:"error",title:"Oops...",text:"".concat(a)}),n.next=11;break;case 6:return i=JSON.stringify({Id:o.Id,First_Name:N,Last_Name:S,Level:o.Level,User_Id:o.User_Id,User:{Id:o.User_Id,User_Name:L,Password:G,Email:X,User_Role:1}}),n.next=9,M.updateAdmin(i);case 9:!0===(t=n.sent)?m.a.fire("Airline was updated succefully!","You can change it again anytime","success").then((function(){e.push("/admin/details"),e.push("/admin/admins")})):400===t.status?(s=t.error.split("_")[1],m.a.fire({icon:"error",title:"Oops...",text:"".concat(s," is allready taken")})):403===t.status?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to update details"}):m.a.fire({icon:"error",title:"Oops...",text:"Could not update details"});case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}()}})]}));var ae;o!=={}&&(ae=Object(g.jsxs)("div",{children:["  ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" ID: "})," ",o.Id," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" First Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:N,onChange:function(e){return A(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Last Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:S,onChange:function(e){return U(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Level: "}),Object(g.jsxs)("select",{id:"level",onChange:function(e){return D(e.target.value)},children:[Object(g.jsx)("option",{value:"1",selected:!0,children:"Lowest Level"}),Object(g.jsx)("option",{value:"2",children:"Medium Level"}),Object(g.jsx)("option",{value:"3",children:"Highest Level"})]})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" User Name: "}),Object(g.jsx)("input",{type:"text",defaultValue:L,onChange:function(e){return F(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:G,onChange:function(e){return V(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Confirm Password: "}),Object(g.jsx)("input",{type:"text",defaultValue:K,onChange:function(e){return H(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Email: "}),Object(g.jsx)("input",{type:"text",defaultValue:X,onChange:function(e){return Z(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){w(!1)}})," "," ",Object(g.jsx)("input",{type:"button",value:"Create",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var t;m.a.fire({title:"Are you sure with the details?",text:"You can review them again before creating",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create it!"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a,i,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=11;break}if(""===(a=re())){n.next=6;break}m.a.fire({icon:"error",title:"Oops...",text:"".concat(a)}),n.next=11;break;case 6:return i=JSON.stringify({First_Name:N,Last_Name:S,Level:E,User_Id:o.User_Id,User:{User_Name:L,Password:G,Email:X,User_Role:1}}),n.next=9,M.createNewAdmin(i);case 9:!0===(t=n.sent)?m.a.fire("Admin was created succefully!","You can change it again anytime","success").then((function(){e.push("/admin/details"),e.push("/admin/admins")})):400===t.status?(s=t.error.split("_")[1],m.a.fire({icon:"error",title:"Oops...",text:"".concat(s," is allready taken")})):403===t.status?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to create admin"}):m.a.fire({icon:"error",title:"Oops...",text:"Could not create new admin"});case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}()}})]}));var ie=Object(g.jsx)("input",{type:"button",value:"Create New Admin",className:"button btnBorder btnLightBlue",style:{width:"150px"},onClick:function(){A(""),U(""),D("1"),F(""),V(""),H(""),Z(""),w(!0)}});return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Admins"})," ",Object(g.jsx)("br",{}),!x&&!v&&ie,x?ne:v?ae:ee]})},$=(n(47),function(){var e=Object(u.f)(),t=Object(s.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(""),c=Object(b.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)(""),h=Object(b.a)(p,2),x=h[0],f=h[1],O=Object(s.useState)(""),y=Object(b.a)(O,2),v=y[0],w=y[1],C=Object(s.useState)(!1),k=Object(b.a)(C,2),N=k[0],A=k[1],T=Object(s.useState)(!1),B=Object(b.a)(T,2),S=B[0],U=B[1];Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.GetAllCountries();case 2:t=e.sent,a(JSON.parse(t));case 4:case"end":return e.stop()}}),e)}))),[]),Object(s.useEffect)((function(){!0===N&&f(o)}),[N]);var _,I=Object(g.jsxs)("select",{class:"select-text",id:"countries",onChange:function(e){l(e.target.value),A(!1)},children:[Object(g.jsx)("option",{value:"",disabled:!0,selected:!0}),r.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]});if(""!==o){var E=N?Object(g.jsx)("input",{type:"text",defaultValue:o,onChange:function(e){f(e.target.value)}}):o;_=Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Name: "})," ",E," ",Object(g.jsx)("br",{}),"  ",Object(g.jsx)("br",{}),N?Object(g.jsx)("input",{type:"button",value:"Update",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){m.a.fire({title:"Are you sure?",text:"Changing Country Name will make many changes in the system",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, change it"}).then(function(){var t=Object(d.a)(j.a.mark((function t(n){var a,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isConfirmed){t.next=11;break}if(!(x.length<2)){t.next=5;break}m.a.fire({icon:"error",title:"Oops...",text:"Country Name is too short!"}),t.next=11;break;case 5:return(a=r.find((function(e){return e.Name===o}))).Name=x,t.next=9,M.updateCountry(JSON.stringify(a));case 9:!0===(i=t.sent)?m.a.fire("Country Name was updated succefully!","You can change it again anytime","success").then((function(){e.push("/admin/details"),e.push("/admin/countries")})):(a.Name=o,400===i.status?m.a.fire({icon:"error",title:"Oops...",text:"Country Name is allready taken"}):403===i.status?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to update country"}):m.a.fire({icon:"error",title:"Oops...",text:"Could not update country"}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}):Object(g.jsx)("input",{type:"button",onClick:function(){A(!0)},className:"button btnBorder btnBlueGreen",value:"Edit"})," "," ",N?Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){A(!1)}}):Object(g.jsx)("input",{type:"button",className:"button btnBorder btnLightBlue",value:"Delete",onClick:function(){m.a.fire({title:"Are you sure you want to delete this country?",text:"This action will cause many changes to all users!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var t=Object(d.a)(j.a.mark((function t(n){var a,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isConfirmed){t.next=6;break}return a=r.find((function(e){return e.Name===o})),t.next=4,M.deleteCountry(JSON.stringify(a.Id));case 4:!0===(i=t.sent)?m.a.fire("Country has been deleted succefully!","All changes will be updated in the website","success").then((function(){e.push("/admin/details"),e.push("/admin/countries")})):401===i?m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not delete country"}):403===i&&m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to delete country"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})]})}var D=Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Create New Country"})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Name: "}),Object(g.jsx)("input",{type:"text",onChange:function(e){w(e.target.value)}})," ",Object(g.jsx)("br",{}),"  ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){U(!1),w("")}})," "," ",Object(g.jsx)("input",{type:"button",value:"Create",style:{width:"70px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var t;m.a.fire({title:"Are you sure with country name?",text:"You can review it again before creating",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create it!"}).then(function(){var n=Object(d.a)(j.a.mark((function n(r){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=10;break}if(!(v.length<2)){n.next=5;break}m.a.fire({icon:"error",title:"Oops...",text:"Country name is too short!"}),n.next=10;break;case 5:return a=JSON.stringify({Name:v}),n.next=8,M.createNewCountry(a);case 8:!0===(t=n.sent)?m.a.fire("country was created succefully!","You can change it again anytime","success").then((function(){e.push("/admin/details"),e.push("/admin/countries")})):400===t.status?m.a.fire({icon:"error",title:"Oops...",text:"Country name is allready taken"}):403===t.status?m.a.fire({icon:"error",title:"Oops...",text:"You are not allowed to create country"}):m.a.fire({icon:"error",title:"Oops...",text:"Could not create new country"});case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}()}})]}),W=Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:"Select country to watch"})," ",Object(g.jsx)("br",{}),Object(g.jsx)("div",{class:"wrap",children:Object(g.jsxs)("div",{class:"select",children:[I,Object(g.jsx)("span",{class:"select-highlight"}),Object(g.jsx)("span",{class:"select-bar"}),Object(g.jsx)("label",{class:"select-label",children:"Select"})]})})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),_," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),!N&&Object(g.jsx)("input",{type:"button",value:"Create New Country",className:"button btnBorder btnLightBlue",style:{width:"160px"},onClick:function(){U(!0),w("")}})]});return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Countries"})," ",Object(g.jsx)("br",{}),S?D:W]})}),ee=S.a.header(i||(i=Object(T.a)(["\n  width: 100%;\n  border-bottom: 10px solid #222;\n  z-index: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px 100px 0;\n  height: 140px;\n  margin-bottom: 60px;\n  background: #f8f8f8;\n\n  .logo a {\n    padding-top: 33px;\n    display: flex;\n    flex-direction: column;\n    clear: both;\n    padding-bottom: 30px;\n    text-decoration: none;\n\n    p {\n      width: 500px;\n      display: block;\n    }\n    em {\n      font-size: 0.5em;\n      float: left;\n      display: block;\n      img {\n        display: inline-block;\n        margin-top: 5px;\n        width: 15px;\n        float: left;\n      }\n      .letterhead {\n        display: inline-block;\n        line-height: 260%;\n        float: left;\n      }\n    }\n  }\n  .gray {\n    color: #ccc;\n  }\n  a {\n    color: #222;\n    opacity: 0.55;\n    transition: all 0.6s;\n    color: #222;\n    font-size: 1em;\n  }\n  a:hover {\n    opacity: 1;\n  }\n  .fa-bars {\n    display: none;\n    color: #222;\n    font-size: 2rem;\n  }\n  nav {\n    ul {\n      display: flex;\n      justify-content: space-between;\n    }\n    li {\n      margin: 0 15px;\n      justify-content: space-between;\n      font-size: 1em;\n    }\n    a {\n      font-size: 1em;\n      text-decoration: none;\n      .active {\n        color: tomato;\n      }\n    }\n    a.active {\n      color: #222;\n    }\n  }\n\n  @media only screen and (max-width: 800px) {\n    padding: 0px;\n    .logo {\n      padding-left: 15px;\n      padding-top: 0px !important;\n    }\n  }\n  @media only screen and (max-width: 600px) {\n    height: auto;\n    min-height: 50px;\n    display: block;\n    position: relative;\n    .logo {\n      width: 100%;\n      display: block;\n      padding-top: 20px;\n      margin: 0px;\n      margin-left: -5px;\n      a {\n        padding: 20px 0px;\n      }\n    }\n    .fa-bars {\n      display: inline-block;\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      cursor: pointer;\n    }\n    ul.collapsed {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      flex-wrap: wrap;\n\n      overflow: hidden;\n      max-height: 0;\n      -moz-transition-duration: 0.4s;\n      -webkit-transition-duration: 0.4s;\n      -o-transition-duration: 0.4s;\n      transition-duration: 0.4s;\n      -moz-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      -webkit-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      -o-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n\n      &.is-expanded {\n        overflow: hidden;\n        max-height: 500px; /* approximate max height */\n        -moz-transition-duration: 0.4s;\n        -webkit-transition-duration: 0.4s;\n        -o-transition-duration: 0.4s;\n        transition-duration: 0.4s;\n        -moz-transition-timing-function: ease-in;\n        -webkit-transition-timing-function: ease-in;\n        -o-transition-timing-function: ease-in;\n        transition-timing-function: ease-in;\n      }\n      li {\n        padding: 15px 10px;\n        margin: 0px 0px;\n        width: 100%;\n      }\n    }\n  }\n"]))),te=function(e){Object(N.a)(n,e);var t=Object(A.a)(n);function n(e){var r;return Object(C.a)(this,n),(r=t.call(this,e)).state={isExpanded:!1},r}return Object(k.a)(n,[{key:"handleToggle",value:function(e){e.preventDefault(),this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){var e=this,t=this.state.isExpanded;return Object(g.jsx)(ee,{children:Object(g.jsxs)("nav",{className:"nav",children:[Object(g.jsx)("i",{className:"fa fa-bars","aria-hidden":"true",onClick:function(t){return e.handleToggle(t)}}),Object(g.jsxs)("ul",{className:"collapsed ".concat(t?"is-expanded":""),children:[Object(g.jsx)(B.b,{activeClassName:"active",to:"/admin/adminsInbox",children:Object(g.jsx)("li",{children:"Admins Inbox"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/admin/airlinesInbox",children:Object(g.jsx)("li",{children:"Airlines Inbox"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/admin/airlines",children:Object(g.jsx)("li",{children:"Airlines"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/admin/customers",children:Object(g.jsx)("li",{children:"Customers"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/admin/admins",children:Object(g.jsx)("li",{children:"Admins"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/admin/countries",children:Object(g.jsx)("li",{children:"Countries"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/admin/details",children:Object(g.jsx)("li",{children:"Details"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/flights",children:Object(g.jsx)("li",{children:"Flights"})}),Object(g.jsx)(B.b,{activeClassName:"active",to:"/FlightPages/loginPage.html",children:Object(g.jsx)("li",{children:"Log Out"})}),Object(g.jsx)("button",{onClick:function(){return window.location.href="/FlightPages/loginPage.html"},children:"Log Out 2"})]})]})})}}]),n}(s.Component),ne=Object(u.g)(te),re=function(){var e=Object(u.f)();return Object(s.useEffect)((function(){e.push("/admin/details")}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(ne,{}),Object(g.jsx)(u.c,{children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)(u.a,{path:"/admin/adminsInbox",children:[" ",Object(g.jsx)(K,{})," "]}),Object(g.jsxs)(u.a,{path:"/admin/airlinesInbox",children:[" ",Object(g.jsx)(H,{})," "]}),Object(g.jsxs)(u.a,{path:"/admin/airlines",children:[" ",Object(g.jsx)(q,{})," "]}),Object(g.jsxs)(u.a,{path:"/admin/customers",children:[" ",Object(g.jsx)(Q,{})," "]}),Object(g.jsxs)(u.a,{path:"/admin/admins",children:[" ",Object(g.jsx)(Z,{})," "]}),Object(g.jsxs)(u.a,{path:"/admin/countries",children:[" ",Object(g.jsx)($,{})," "]}),Object(g.jsxs)(u.a,{path:"/admin/details",children:[" ",Object(g.jsx)(X,{})," "]})]})})]})},ae={getAllAirlineCompanies:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Anonymous/GetAllAirlineCompanies",contentType:"application/json",dataType:"json"});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getAllFlights:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Anonymous/GetAllFlights",contentType:"application/json",dataType:"json"});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getAllFlightsVacancy:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Anonymous/GetAllFlightsVacancy",contentType:"application/json",dataType:"json"});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getFlightsByDepatrureDate:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Anonymous/GetFlightsByDepatrureDate?date=".concat(t),contentType:"application/json",dataType:"json"});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getFlightsByLandingDate:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Anonymous/GetFlightsByLandingDate?date=".concat(t),contentType:"application/json",dataType:"json"});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getFlightsByDestinationCountry:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Anonymous/GetFlightsByDestinationCountry?countryName=".concat(t),contentType:"application/json",dataType:"json"});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getFlightsByOrigionCountry:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.ajax({type:"GET",url:"/api/Anonymous/GetFlightsByOriginCountry?countryName=".concat(t),contentType:"application/json",dataType:"json"});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ie=function(){var e=Object(u.f)(),t=Object(s.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)([]),c=Object(b.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)([]),h=Object(b.a)(p,2),x=h[0],O=h[1],y=Object(s.useState)([]),v=Object(b.a)(y,2),w=v[0],C=v[1],k=Object(s.useState)(!1),N=Object(b.a)(k,2),A=N[0],T=N[1],B=Object(s.useState)({}),S=Object(b.a)(B,2),U=S[0],_=S[1];Object(s.useEffect)(Object(d.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.GetAllCountries();case 2:return t=e.sent,C(JSON.parse(t)),e.next=6,ae.getAllFlights();case 6:return n=e.sent,a(n),l(n),e.next=11,ae.getAllAirlineCompanies();case 11:r=e.sent,O(r);case 13:case"end":return e.stop()}}),e)}))),[]),r&&r.sort((function(e,t){return e.Id>t.Id?1:e.Id<t.Id?-1:0}));var I,E=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("airline").value="Airline Name",document.getElementById("destination").value="Destination Country",e.next=4,ae.getFlightsByOrigionCountry(t);case 4:n=e.sent,a(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("airline").value="Airline Name",document.getElementById("origion").value="Origion Country",e.next=4,ae.getFlightsByDestinationCountry(t);case 4:n=e.sent,a(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("airline").value="Airline Name",document.getElementById("origion").value="Origion Country",document.getElementById("destination").value="Destination Country",e.next=5,ae.getFlightsByDepatrureDate(t);case 5:n=e.sent,a(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("airline").value="Airline Name",document.getElementById("origion").value="Origion Country",document.getElementById("destination").value="Destination Country",e.next=5,ae.getFlightsByLandingDate(t);case 5:n=e.sent,a(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=Object(g.jsxs)("select",{style:{backgroundColor:"white"},class:"select-text",id:"airline",onChange:function(e){!function(e){document.getElementById("origion").value="Origion Country",document.getElementById("destination").value="Destination Country";var t=o.filter((function(t){return t.AirlineCompanyName==e}));a(t)}(e.target.value)},children:[Object(g.jsx)("option",{disabled:!0,selected:!0,children:"Airline Name"}),x.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]}),Y=Object(g.jsxs)("select",{style:{backgroundColor:"white"},class:"select-text",id:"origion",onChange:function(e){E(e.target.value)},children:[Object(g.jsx)("option",{disabled:!0,selected:!0,children:"Origion Country"}),w.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]}),z=Object(g.jsxs)("select",{style:{backgroundColor:"white"},class:"select-text",id:"destination",onChange:function(e){D(e.target.value)},children:[Object(g.jsx)("option",{disabled:!0,selected:!0,children:"Destination Country"}),w.map((function(e){return Object(g.jsx)("option",{value:e.Name,children:e.Name})}))," "]}),G=function(e){var t=e.split(":")[0],n=e.split(":")[1];return e=(e=t+":"+n).replace("T"," ")},V=function(e,t){return Object(g.jsxs)("tr",{onClick:function(){!function(e){var t=new Date;new Date(e.Departure_Time).getTime()>t.getTime()?"Customer"!==localStorage.getItem("JWT")?m.a.fire({title:"Only customer can buy tickets",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}):(T(!0),_(e)):m.a.fire({icon:"error",title:"You can't buy ticket to this flight",text:"The flight has already taken off"})}(e)},className:"popupOpen",children:[Object(g.jsx)("td",{children:e.Id}),Object(g.jsx)("td",{children:e.AirlineCompanyName}),Object(g.jsx)("td",{children:e.OrigionCountry}),Object(g.jsx)("td",{children:e.DestinationCountry}),Object(g.jsx)("td",{children:G(e.Departure_Time)}),Object(g.jsx)("td",{children:G(e.Landing_Time)}),Object(g.jsx)("td",{children:e.RemainingTickets})]},t)};r&&(I=Object(g.jsxs)("table",{id:"flightsTbl",border:"1",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"Airline Company"}),Object(g.jsx)("th",{children:"Origion Country"}),Object(g.jsx)("th",{children:"Destination Country"}),Object(g.jsx)("th",{children:"Departure Time"}),Object(g.jsx)("th",{children:"Landing Time"}),Object(g.jsx)("th",{children:"Remaining Tickets"})]})}),Object(g.jsx)("tbody",{children:r.map((function(e,t){return V(e,t)}))})]}));var J;return"{}"!==JSON.stringify(U)&&(J=Object(g.jsxs)("div",{children:["  ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("h1",{children:"Purchase Ticket"})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" ID: "})," ",U.Id," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Airline Company Name: "})," ",U.AirlineCompanyName," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Origion Country: "})," ",U.OrigionCountry," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Destination Country: "})," ",U.DestinationCountry," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Departure Time: "})," ",G(U.Departure_Time),Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Landing Time: "})," ",G(U.Landing_Time)," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("span",{style:{fontWeight:"bold"},children:" Remaining Tickets: "})," ",U.RemainingTickets," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",value:"Close",style:{width:"70px"},className:"button btnBorder btnBlueGreen",onClick:function(){T(!1)}})," "," ",Object(g.jsx)("input",{type:"button",value:"Purchase",style:{width:"80px"},className:"button btnBorder btnLightBlue",onClick:function(){return function(){var e=JSON.stringify({Id:U.Id,AirlineCompanyName:U.AirlineCompanyName,OrigionCountry:U.OrigionCountry,DestinationCountry:U.DestinationCountry,Departure_Time:U.Departure_Time,Landing_Time:U.Landing_Time,RemainingTickets:U.RemainingTickets});m.a.fire({title:"Are you sure?",text:"You can only buy one ticket to this flight",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, buy it!"}).then(function(){var t=Object(d.a)(j.a.mark((function t(n){var i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isConfirmed){t.next=5;break}return t.next=3,f.purchaseTicket(e);case 3:!0===(i=t.sent)?m.a.fire("Ticket was purchased succefully!","You can see it on the website","success").then((function(){var e=r,t=e.findIndex((function(e){return e.Id===U.Id}));e[t].RemainingTickets--,a(e),_({}),T(!1)})):403===i?m.a.fire({icon:"error",title:"Can buy ticket only once!",text:"Could not purchase ticket again"}):406===i?m.a.fire({icon:"error",title:"No tickets left",text:"Could not purchase ticket again"}):m.a.fire({icon:"error",title:"Something wrong happend",text:"Could not purchase ticket"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}()}})]})),Object(g.jsxs)("div",{children:[" ",Object(g.jsx)("br",{}),A?J:Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Flights"}),"  ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"button",onClick:function(){document.getElementById("airline").value="Airline Name",document.getElementById("origion").value="Origion Country",document.getElementById("destination").value="Destination Country",document.getElementById("departure").value="",document.getElementById("landing").value="",a(o)},className:"button btnBorder btnLightBlue",style:{width:"80px"},value:"Reset All"})," "," ",Object(g.jsx)("input",{type:"button",style:{width:"85px"},className:"button btnBorder btnBlueGreen",value:"Go back",onClick:function(){!function(){switch(localStorage.getItem("JWT")){case"Administrator":e.push("/admin/details");break;case"Airline Company":e.push("/airline/details");break;case"Customer":e.push("/customer/tickets");break;default:window.location.href="/FlightPages/loginPage.html"}}()}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),F," "," ",Y," "," ",z," "," "," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:"Departure Date: "}),Object(g.jsx)("input",{type:"date",id:"departure",onChange:function(e){W(e.target.value)}})," "," ",Object(g.jsx)("label",{children:"Landing Date: "}),Object(g.jsx)("input",{type:"date",id:"landing",onChange:function(e){L(e.target.value)}})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),I]})]})},se=function(){var e=Object(u.f)();return Object(s.useEffect)((function(){switch(localStorage.getItem("role")){case"Administrator":e.push("/admin/details");break;case"Airline Company":e.push("/airline/details");break;case"Customer":e.push("/customer/details");break;default:e.push("/flights")}}),[]),Object(g.jsx)("div",{id:"bg",children:Object(g.jsxs)(u.c,{children:[Object(g.jsxs)(u.a,{path:"/customer",children:[" ",Object(g.jsx)(E,{})," "]}),Object(g.jsxs)(u.a,{path:"/airline",children:[" ",Object(g.jsx)(J,{})," "]}),Object(g.jsxs)(u.a,{path:"/admin",children:[" ",Object(g.jsx)(re,{})," "]}),Object(g.jsxs)(u.a,{path:"/flights",children:[" ",Object(g.jsx)(ie,{})," "]})]})})};var ce=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(se,{})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))};o.a.render(Object(g.jsx)(B.a,{children:Object(g.jsx)(ce,{})}),document.getElementById("root")),oe()}},[[82,1,2]]]);
//# sourceMappingURL=main.1048c9b3.chunk.js.map